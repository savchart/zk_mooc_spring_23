Recall: common paradigm for efficient SNARK:

I'm going to talk about  polynomial commitments based on bilinear pairing and discrete logarithm  recall that from previous lectures we've learned that a common recipe to build an efficient snark system is this General  Paradigm in two steps we first design a proper interactive Oracle proof such as a polynomial IOP  and then we can combine it with a polynomial commitment to build an efficient Stark for circuit evaluations  in the last lecture Dunn has taught about the Planck scheme where we can reduce the computation of a general  circuit to several proof Guardians such as the polynomial quality testing product check permutation check and so  on combining the Planck IOP with a universe polynomial commitment you will get an  efficient snark for General circuits earlier in lecture 4 Justin talked about  interactive proofs and shows how to check the circuit sets viability using the classical soundtrack protocol  at the end of this protocol the verifier has to evaluate a multivariable polynomial defined by the prover's  business at a single point and this is again realized by a multivariate dynamic  commitment scheme in order to get an efficient snug so in today's lecture I'm going to  formally present the constructions of polynomial schemes based on bilinear pairing and discrete logarithm  combining them with the polynomial Keys we learned before we will eventually have the complete description of several  efficient Stark schemes so to start what is a polynomial commitment  it is again a protocol between approver and a verifier for a family of binomials  for example Universe polynomials will degree less than or equal to B and the prover has this polynomial in  the family and without sending it directly to the verifier the poorer can commit to this  polynomial several polynomial commitment later the verifier can issue a query on  the evaluation at this point U and the Brewer replies with the value V and the  proof Pi proving that V equals to the evaluation F of U and at the same time F  belongs to this family of polynomials more formally speaking there are four  algorithms of a atomic Amendment scheme Keygen can meet Evol and verify  the occasion takes the description of this family of the polynomials and the  security parameter and now puts a set of global parameters it is also known as a  public key or public parameters or common reference string but in this lecture I'm just going to use GPU to  represent it then given GP and the polynomial the poorer can compute the commitment of  this polynomial and later at the evolution Point U the poorer can call this evolve algorithm to  Output the evaluation V and the approved pi and finally the verifier can verify  the correctness of this claim using GP the commitment UV and pi and I'll put  either accept or reject the correctness of a polynomial  commitment says that if the proofer is honest and follows all of these algorithms then the verification always  outputs except and I omit a formal definition here or interestingly we want the skin to be  soft meaning that the prover should not be able to lie about this evaluation and  here I'm showing the formal definition of a knowledge science it says that for every Panama time  adversary given the global parameters generated by TJ if the words you can output a valid  commitment evaluation and proof that pass the verification with probability  one then there must be exists an efficient extractor that uses a so that  it can extract a polynomial F where F of U equals to V and f x belongs to this  family of polynomials with an overwhelming probability so that is the formal definition of  knowledge soundness of polynomial convenience so in order to fully understand the  construction of economic amendments there will be three segments of this lecture so first I'm going to introduce some  mathematical and cryptographic background on groups discrete log and bilinear Perry  after that I'm going to present the classical Construction of this kcg polynomial commitment using  bilinear pairing and also talk about this variance finally in the last part I will talk  about polynomial schemes without trusty setup such as bulletproofs and also  highlight some other schemes based on the screen logarithm such as hierarch Dory and dark  so let's start with some backgrounds the first thing I want to Define is a  group a group is a set of elements and the operation star  that satisfy these four properties and I think it's actually easier to walk through these properties with a concrete  example that everyone knows like integers and their additions as you can see here closure means that  given two elements in the integers A and B now A plus b should also be an integer  and this is clearly true for integers under addition associativity says that  uh Computing the result of a plus B and M plus c should equal to a plus the result of B  plus C and this is also true for integers and identity means that there exists an  identity element such that e plus a equal to a plus E equals to A  itself and 0 is the identity element for integers under addition and finally for every element in this  set there exists an inverse such that a plus b equals to zero again for integers  this is taking the negative of the number so because of this integers under addition satisfy all of these four  properties so it forms a group and other groups  that people are familiar with in Congressional numbers real numbers complex numbers and so forth  however group we use in cryptography are quite different for example a common group we use is  positive integers modular prime number P under multiplication and the set is one two three all the way  to P minus one and this is the finite set and you can check that it actually  satisfies all these four properties and it says form a multiplicative group  another common group we use is defined by limit curves but I'm not going to go into details in this lecture and I will  mainly use this example of the multiplicative group modular p in this lecture  so given the definition of a group then for every group there exists uh the  concept of the generator so the generator is an element that can generate all elements in this group by  taking all powers of this element G for example taking the multiplicative  group modular the prime number seven the elements include one two three four  five six and then we can actually take three as an example uh as an element you  can see here that if you take all the powers of three and of course computation always done modular 7. you can see that it iterates  through all possible elements three two six five four five one in this group so  because of this by the definition 3 is the generator of this multiplicative group of z7 star  by the way there really exist multiple generators and they can be efficiently computed and sampled in practice  with this definition of a generator then a group G has an alternative representation as the powers of the  generator G you can write it as G to the 1 G2 all the way to G to the P minus one this is because by the definition of the  generator this set either is through all possible elements so this is essentially  the same set of the group in a different order here note that in this lecture I'm using  a multiplicative notation where the operation of the group is multiplication and exponentiation means  repeating the modification multiple times recall that in the last lecture done was using the adjective notation  where the base operation is addition each of these two notation is convenient  for different protocols and is actually good for you to understand both notations but I will use the multiplicative one in  this lecture so because of this alternative way of defining the group then we can formally  Define a problem called the squared logarithm the problem is given an element Y in this group please find X  such that a generator G to the power of x equals to y this is well defined for everyone  because of this alternative representation and the problem is analog to the logarithm computation in the  continuous case thus it is called discrete log so then let's see an example um the  multiplicative group more sub and so please tell me what is X such that 3 to  the x equals to 4 mole 7. can you compute it now  actually you can't figure it out immediately and basically the naive solution is trial or all  possible X to see which one is true for this equation  and this suggests that this problem is actually hard to solve and this is known as the famous discrete log assumption  the Assumption says that this this log problem is computationally hard and basically the new solution is try  all possible elements in the group which the complexity of which is a proportion  to the size of the group and it's computationally hard if the size is exponentially large and there are a  better algorithms in practice that improves the running time a little bit but still is considered not in  polynomial time and by the way this this grillock assumption does not hold in R groups but  it's believed to hold in certain groups that are used in cryptography and also a common computers will  actually solve this this gridlock problem in polynomial time therefore  all Aggregates are all protocols based on the discrete log assumption will not be postponed and secure  another popular assumption that is highly related to that this gorilla assumption is called the DV helmet  assumption and here I'm presenting the version called computational DD helmets option it says given to the X and G of Y you  cannot compute G to the X Y efficiently and it's also a fundamental assumption in cryptography and you can see here  that clearly if you can solve the screen lock problem then you can compute X from G to X and Y from G to Y and then use  them to compute G to the X Y so therefore this is something stronger than the discrete log assumption but  still it is believed to be hard in the groups we are using in cryptography  with these definitions I'm ready to present the uh important building block  we are going to use called bilinear Parry so in a bilinear uh pairing  in addition to the group G and the generator G we also have a Target group called GT and an operation called Perry  we use e to denote it the base Group G and Target group GT are  both molecular groups of order p and g is the generator of the space Group G  and the rule for the pairing operation is that it takes input X that takes two  elements in the base group as input P to the x and q the Y and after the  pairing it gives you an element in the Target Group which equals to e p q to the power of X Y  so basically is a Computing the product in the exponent of  this equation so again to get familiar with that using  an example given to the X and G to Y the pairing of these two elements equals to e g g to  the power of X Y and by a similar rule this also equals to the pairing between G to the x y and the  generator G itself so this gives you a way  that given G of X and G to the Y you can actually check if some element H is g to  the X Y or not without knowing X and Y so basically this gives you a tool to  verify that the product relationship in the exponent of the computation but not Computing it so note that using pairing  you cannot break the computational DV home assumption you cannot compute G to the X Y directly but you can use pairing  to check if someone gives you the result of G to the X Y whether it is true or not  and again uh for your information not all groups in which the Square log is  hard I believe to support efficient computable pairing but some groups are especially those defined by limit curves  so a good example to get more familiar is this a pairing operation is through  this uh elegant design of a BLS signature this was proposed by paneling  and chachang in 2001. so the key generation of this BR signature is very simple the private key  is just a random element X and the public key is g to the x by the discrete  log assumption given G to the X it is hard to figure out the X the secret key  the other design message we are going to compute the hash of this  message and then raise it to the power of X where H is a cryptograph cache function that Maps the message space to  the base group in order to verify the signature note that everyone can actually compute h of  M that is a public hash function but without knowing X we cannot compute the hash of M raised  to the power of X directly so what can we do here comes the pairing operation we can  actually pair the H of M with G to the power of X which is the public key this is known by everyone and then check if  it is the same as the pairing of the signature and Generator itself  if the signature is computed honestly as h of M to the power of X then this  verification will pass so that's the correctness part of the BRS signature  for soundness uh in the paper it can be shown that if there exists an adversary  that can forge signatures then we can actually use the adversity to break the computational DP hormone assumption in  this bilinear group so therefore this signature scheme is secure  so this shows you an example that utilize the power of the pairing to check the product relationship in the  exponent of this equation  with the background on the bilinear pairing I'm ready to show you the construction of the hdg polynomial  convenience scheme in the second segment of the lecture  scheme was introduced by Kate the varsha and Goldberg in 2010 and the  applications in the original paper include verifiable secret sharing and verifiable polynomial delegations but in  recent years it has become a very important building block to construct the efficient stock systems in practice  recall that there are four algorithms for a phenomic commitment scheme we have a key generation that generates a set of  global parameters and then the approver called this commit algorithm to compute the commitment for a polynomial f  later for an invasion Point U the poorer called the Evol algorithm to compute  evaluation together with the proof pi and finally the verifier calls the verify algorithm to verify the  correctness of the evaluation and we're going to go through the four algorithms  of the kcg Panama commitment scheme one by one the scheme works on a bilinear group  with a base Group G A Target group GT and a pairing operation e and the basic  version works for the family of universe polynomials with degree less than or equal to D where D is a publicly known  parameter first in the key generation algorithm we are going to sample a random numbered  tall in this finite field mode p and then we are going to use Tau to compute this set of global parameters in  particular we are going to raise G to the different powers of Tau we have g g to the power of Tau G to the power of  Tau square and so on all the way to G to the power of Tau to the D note that the size of this Global  parameters is linear in the maximum degree of the polynomial we want to support  intuitively speaking since we are using a group in which the Square log problem is hard no one should be able to compute  power given this set of global parameters so in that sense tau is hidden in the  exponent of the generator G after that in an important step of this  key generation algorithm is that we have to completely delete this security talk that is because interestingly in the  remaining part of the kcg polynomial scheme we are not going to use this thought at all it suffices to use the  global parameters to commit and generate the proof and to verify the evaluation  and if anyone can have access to this secret key talk then they can actually  generate a fake proof to full the verifier and to break the security of this polynomial community  so it is very important to Desert this talk after the key generation algorithm  and this step is called the trusses setup because we have to trust this  preprocessor to discard this toxic waste of talk after the execution and in  practice this is not desirable for many applications because it is hard to find a trusted party to run this trusted  setup so given this set of global parameters  the way to commit to a phenomena is as follows first we are going to represent this polynomial in the form of the  coefficients we have F0 plus f1x plus F2 x square and so forth all the way to f d  x to the power of d then the commitment we are trying to compute is simply G to the power of f  evaluate that at the point power and turns out the footwork I actually  computed without accessing Tau directly you can actually compute it using the  global parameters only that is because if you just expand the expression of f  of Tau we get G to the power of f 0 plus F1 Tau plus F2 Tau square and so on and  by the root of exponentiation it equals to G raised to the power of f  zero times G to the power raised to the power of F1 times G to the Tau Square raised to the power of 2 and so on and  so forth and this is because basically the addition in exponents is equivalent to multiplications in the  base level and multiplications in the exponent is equivalent to exponentiations in the base level  so in this way we can compute the commitment using this equation and note that each of these elements in the  parenthesis is actually from the global parameters directly so in this way the  poorer can actually raise each value in the global parameters to  the corresponding degree defined by the coefficient of the polynomial and get  this commitment without using power directly so that's how we commit to  a phenomenon I know the size of this commitment is only one element in the base group of the  bilinear group so after that let's see how can we  generate a proof for evaluation of this polynomial F at the point U  the most important key idea of this kg pandomic amendment is actually based on this polynomial equation  where for any polynomial f x minus F of U can always be expressed  as the product of a two polynomials x minus U times another polynomial Q of X  where the degree of QX is D minus 1. and it's actually not hard to see this  relationship because you is clearly a root of this phenomenal f x minus F of U this equals to 0 at  Point U and because of this fact then the polynomial f x minus f u can always  be decomposed as x minus U times Q of x and there are other ways to prove the  correctness of this equation for example using Taylor's expansion  so with this polynomial equation then the idea of a kcg polynomial commitment is for the plural to compute this  binomial Q of X and then generate a proof pi equals to G raised to the power  of Q evaluated at the point power again this can be computed using the  global parameters only without accessing assessing this top and the proof size is only one element  in the base group of the bilinear group finally how can we verify the  correctness of this evaluation then the idea of this verification is to check this polynomial equation at this  secret Point top in particular we what we are trying to check is G raised to the power of f Tau  minus F of U should equal to G to the power of power minus U times Q Tau and  this is basically replicating this Panama equation in the exponent at the point  substituting the variable X and here I'm listing what will happen if  the poorer is honest basically the poor is going to commit to G to the F of Tau and the proof it's due to the QR power  and this inversion V is f of U so given all of these values  we can we almost have all the information about this equation to check  so on the left hand side we have G to the F of Tau given by the plural and we have G to the F of U again  given by the plural as the evaluation on the right hand side the verifier knows the version Point U this is the public  information and we have a g to the Tau in the global parameters and the proverb returns G of the Q of Tau as the proof  but unfortunately we cannot compute G to the Tau magnitude times Q of power  directly this is because the verifier is only given G to the Tau minus U and G to  the Q of Tau as the proof and by the computational DV home assumption it is actually hard to compute G to the power  of power minus 0 times Q of Tau given these two values  so what can we do well the solution is to use by linear Parry recall that  carrying gives you a way to check the product relationship in the exponent of  the equation instead of computing it so with pairing instead of computing G  to the Tau minus U times Q Tau we are going to check the correctness of this computation  in particular we're going to pair the commitment divided by G to the power of  the evaluation V with the generator and on the right hand side we're going  to check whether this is equal to the pairing of G to the power minus U and the proof itself  and to see the correctness of this verification if we substitute these commitments and  proof by the correct evaluations provided by the onus proverb  you can see that the left hand side equals To Each G to the power of f of  power minus F of U because of the rule of the pirate equation and on the right  hand side if Pi is honestly computed it should equal to G to the power of Q of  power and then by the rule of bilinear pairing the right hand side equals to egg to the power of Tau minus U times Q  of Tau it's basically Computing the product in the exponent and finally because of this uh  equation if the poorer is honest this equation pairing equation should  hold each is used to the power of f Tau minus F of U should equal to e g to the power of power minus U times Q uptau  This is essentially checking this equation uh to the secret Point Tau and that completes the description of  this entire kcg polynomial commitment scheme finally to put it back to this uh  uh slide showing the interactions between the proof and verifier in the key  generation algorithm we are going to generate the global parameters as GH is the Tau all the way to G to the power to  the D and this is the trusted setup step and then for a polynomial f of x the  plural can commit to it using only the global parameters and compute G to the alpha power as the  commitment later for inversion the evaluation Point U the poor work computes this polynomial  equation f x minus F of U equals to x minus U times Q of x  After figuring out Q of X the Brewer computes this proof pi as G to the power  of Q taught and finally the verifier checks this polynomial equation  in the exponent using the pairing operation and that is complete the description of  the kg polynomial commitment  now we've explained the correctness of the kgu polynomial Community namely if the prover is honest then the correct  evaluation in the proof can always pass the verification because of the polynomial equation  but what about sum is why can the brewery return a wrong evaluation and  the fake proof and still pass the verification but the soundness of the scheme is  actually based on so-called Q strong bilinear DV helmets option the Assumption states that given a  bilinear group and the global parameters G to the Tau Chiefs R square all the way to G to the power to D  uh the worst rig cannot compute this value e g g to the power of 1 over Tau  minus U for any constant U and this is actually a variant of the  disk log assumption and the DV home assumption from a name you can actually  tell that there is a rigorous reduction from this assumption to the  computational DV home assumption which means that this assumption is strictly stronger than the computational DVM  assumption but still we believe that this assumption holds in the bilingual  groups we use in cryptography  so with this assumption I'm going to show you the formal security proof of the energy pandemic  commitment scheme and this slide will be quite technical but I'm going to go through it slowly step by step and I  also think that it's really an elegant security proof and the good place to show you a formal proof in cryptography  here to a calmer approach to prove Security in cryptography is by contradiction  in the first step we suppose that there exists an adversary that can return a  wrong answer V Star that is not equal to F of U a fake proof but still pass the  verification then by the equation of the verification we have the pairing  of the commitment divided by G to the V Star and the generator G should equal to G to the power of Tau minus U parabiz  the fake proof Pi star this is directly from the equation we check in the  verification the next I'm going to cheat a little bit and write this commitment as G to the  power of f of power for Psalm polynomial F knowing by the anniversary  and this is actually a big assumption because for just a randomly generated  number as a commitment you cannot always write it as G to the F for some f node by the anniversary and  we need a so-called knowledge assumption to really make it happen I'm going to explain it in detail later in the  lecture so if we're good with this uh  writing this commitment as the G to the power of f of Tau then the next step is  the key idea of this security proof because this V Star is different from  the real evaluation F of U we are going to subtract F of U from  this value in the exponent and then add it back  the purpose of doing this is that now in exponent we have F Tau minus F of U  which is the correct evaluation of this polynomial plus a difference term  which we defined as Delta equals to F of U minus V Star and note that this Delta  is non-zero because V Star is not equal to F of U because the proof is cheating  so then now we have the correct evaluation F of Tau minus F of U in exponent this can be  decomposed as Tau minus U times Q of Tau for the correct Q  in exponent Again by the polynomial equation I introduced earlier in the  lecture and then by the rule of the bilinear  pairing we can try to extract this uh these elements in the exponent and put  it outside of the Parry so the left hand side equals to egg to the power of Tau minus U times Q of power plus this Delta  and on the right hand side the EG is equals to EG Pi star raised to the  power of Tau minus U that from this equation we can see that  the two terms in the left-hand side and in the on the right hand side they both  have a common factor Tau minus U so we can actually combine these two terms together  by dividing this leading term in the front in both on both sides we get Each  G to the power of Delta equals to this EEG  Pi star divided by e g u to the power of Q Tau together raised to the power of Pi minus  U because they both have a common factor of Tau minus U then once we reach this step  you can replicate the idea of how to break the Q strong bilinear DV home assumption right so from both sides we  can actually raise them to the power of power minus U inverse and note that here I'm not saying that  anyone knows this secret value at all minus your computer inverse I'm merely  stating the fact that if we do that we have the following equation  and in the following equation on the left hand side we have e g u to the power of Delta divided by Tau minus C  this is almost the same as the problem of the Q strong bilinear DB  helmet assumption we are trying to compute this value on the right hand side equals to  this value inside the parenthesis and know that the adversary can actually  compute the reference side with the global parameters only that is because  this EG Pi star is known by the attacker because it literally generates the the  fake proof and this eegg to the power of Q of power is also known by the adversary because Q  of tau is the correct proof and you can't prevent the reverse of the compute  from Computing the correct proof so the version of both of these  values and compute the right hand side which means that the adversary can use  this contradiction use this fake proof to break the Q Strong by  linear DV hormone assumption but then we assume that this assumption is  computationally hard which means that it is the contradiction the first step  of this we start not equal to F of U should not happen so that completes the entire security  proof of the kcg Panama commitment scheme and if you can't follow the entire  derivation note that the key idea of this security proof is to decompose this fake value V  Star into the correct value F of U and a different step and then we can actually extract the  common factor of Tau minus u in the exponent so that is the most clever step  of this security proof in my opinion  so after that we have actually a remaining part that is not solved yet so  because in the security proof I actually made an assumption and so when we see  this commitment F in the next step I actually write it as G to the power of f of Tau  for sum I have known by the plural known by the adversary and this is actually a very big  assumption if the program just generates a random value and call it the commitment F how can you make sure that  the proverb actually knows this polynomial F locally and this is actually a hard to check and  this requires an additional assumption called knowledge of exponent assumption  so this key idea of this assumption saying that for This Global parameters  foreign commitment we are going to sample another secret value Alpha and compute G to the alpha G  to the alpha tau which is the alpha tau square and so forth and so forth all the way to G to the alpha tau to the power  of B basically we are raising each of the  element in This Global parameters to another power of Alpha and we are going  to include both as the new Global parameters so now for every commitment G to the  power of f Tau using the second set of global parameters we can also ask the poor  compute G to the alpha times F of Tau and this is actually easy to do because  we're just raising the corresponding element in the second set of the global  parameters to the same coefficients of the polynomial f  so there is actually a one-to-one relationship between these two sets of global parameters  so after that in the verification we are going to check additional pairing equation  so this equation is essentially checking this the relationship between  these two components of the commitment we are going to do the pairing of the commitment the first commitment  there's G to the alpha and then we are going to check it against  the pairing between this commitment Prime with the generator G  and again if this com Prime is computed honestly  then you can always pass this verification because it is the product equation in the exponent and the two  elements I should equal to the right hand side and the Assumption says that as long as  you can pass this verification there must exist an efficient extractor e that  can extract a polynomial F such that the commitment equals g to the power of f of  Tau to this assumption directly solves the problem we were facing in the security  proof right given the commitment f we don't know how to express it as G to  the power five tall then by this assumption if you perform an additional common Prime and an additional check  using pairing then their existing structure to extract G to the F of Tau  so that is the knowledge assumption with the knowledge assumption you can  actually solve this problem and get a real polynomial communal scheme that  satisfies knowledge science so basically is in the key generation algorithm we are going to generate two  sets of public parameters G to the power of Tau Tau square and Tau to D and G to  the r for G to the alpha tau which is the alpha tau square and so forth and for each commitment it consists of two  parts G to the F of Tau and G to the R Bar F of time and to verify the correctness of  evaluation in addition to this parenting equation to check the polynomial  equation we also check that the pairing of com and due to the alpha equals to  the pairing of com Prime and the generator of G and by the knowledge some  assumption in the very first step of the security proof we can extract as such  that the commitment equals to G to the power of f Tau by the knowledge assumption and  that solves the problem of the security proof and gives you the final complete proof of the knowledge  assignments but then a a problem of this knowledge  soundness assumption is that it actually introduced an overhead in  the communion size and the verifier time so now the commitment becomes two elements in the base group and the  verifier becomes a two power equations to check so it basically double is the cost of this sleep  so in order to further improve this uh apart we can also prove the security in  a model called the generic group model ggm so in ggm informally speaking the  adversary is only given an oracle to compute the group operations what it means that  given a set of global parameters the adversary can only compute their  linear combinations in order to get another group element in the base group there is  no other way for the adversary to for example sample random point and it happens to be another group element in  the base group because of this model we can actually use the ggm to replace the knowledge of  exponent assumption and reduce the commitment size to one element and also  the verifier time to one parent equation to check and this ggm is again a stronger model  to work with but it's also believed to be reasonable because it captures all  known attacks against the discrete log assumptions or the DV home assumptions  and the family so that is why uh it has reasonable to use this to  prove Security in our case and here is really an informal description of this ggm model and please  see the book by then and uh and Victor for more details about the ggm model  so with all of that finally we end up with this kcg Panama scheme that is  correct and the knowledge sound and in the ggm model and so to remind  you again we have this Global parameters and the plural commits to the phenomena as G to the power of f taught and in  order to prove an evaluation we compute this quotient polynomial f x minus F of  U divided by x minus U and the proof is g to the power of Qatar and the number of our checks is using a  parallel equation so finally let's look at the properties  of this KGG binomial commitment scheme so in the key generation algorithm as we  discussed it requires a traffic setup someone has to pick this secret guitar generate the global parameters and  remove this secret guitar completely otherwise the security will be broken  and the commit takes all of the group exponentiations or Computing to compute G to the power  of f tar given the global parameters and the size of the commitment is constant  is only one group element in the base group and the evaluation algorithm the  complexity of that is again order of the group exponentiations to compute G to the power of Q of power and note that  this polynomial Q of X can be computed efficiently in linear time using just a  simple long division you don't have to use a complicated polynomial divisions to do that  and the proof size is only one group element out of one and the verifier time is only  one parent equation to to check so that is why the kcg parameter  movement is actually a very efficient in practice with very small proof size and fast verifier time  but the only drawback is that requires a trusted setup in the key generation algorithm  so another thing I want to mention is that in order to somehow relax this uh  try to set up assumption practice there is a process called sermon the goal of the summary is to have a  distributed generation of the global parameters so that no one can actually reconstruct this trapped or tall if at  least one of the participants is honest and discards their secret  so let's see how can we do that well the actually the the idea is very simple because of this  nice structure of the global practice recall that Global printers is GE raised to the different powers of tall  and we just call a running Global parameters are generated by one party as  G1 G2 all the way to G2 GT so then if we receive this Global parameters  from another party there is a way to introduce additional part of the randomness called  s and I'll bet this GP Prime into a new set of global parameters  an update is very simple we are going to raise each element of this existing  Global parameters g1g2 and GD to the corresponding powers of x we'll compute  G1 to the s g to the that square all the way to GD to the s to the B  and if you just write down this uh equation formally you can see that if GP  is honestly computed then this set of global parameters becomes  G to the power s g to the power s together square and then all the way to G to the power s together to the power  of d which means that this new set of global parameters is actually  equivalent to generating it using the secret Tower times as from building  so this gives you a sense that if everyone's honest then they can still form the correct  generation of the global parameters using the product of all the secrets from all the parties  so finally there are some additional steps to check that this GP Prime is indeed correctly generated  in case there's someone's malicious you don't want them to ruin this entire Global parameters  and there are two steps to check the correctness so first of all the contributor has to generate a proof  proving that he or she knows that such that G1 Prime equals to G1 to the power of s  indeed you are introducing some valid secret s from G1 to G1 Prime instead of  discarding this uh existing Global parameters and generate GP Prime from scratch and this one can be done  efficiently using for example Sigma product and another check we need to do is that  Opera's accommodation GP Prime should have the form of consecutive  powers of this generator raised to this new secret and this can actually be  checked efficiently using Perry there's a simple check you can actually do the pairing between GI Prime and G1 Prime  and that should equal to GI plus 1 Prime and G for I equals to a zero all the way  to D minus 1. and this shows that after the update they still have a valid  Global parameters with this relationship and also another thing you need to pay attention to is that we can't just  remove the secret and change it to zero so in order to prove and prevent that we  have to check that G1 Prime is not equal to zero and this nice way of doing the  ceremony was actually introduced in this paper in 2022.  so that completes the discussion of the kdg polynomial commitment scheme  as we've seen so far the kcg Panama commitment has this simple and nice algebraic structure and that's why it  has led to many variants in the literature and I'm going to discuss some of these variants next  the first extension is to the multivariable case and the scheme was proposed by papuento She and tamasia in  the paper in 2013. and here I'm showing you an example of a multivariable polynomial with K  variables and this basically can be expressed as the summation of all these monomials generated by these variables  times the corresponding coefficients and the key idea to build a  multivariable phenomic domain scheme is based on this polynomial equation so for every multivariate binomial F X1  to XK minus fu1 to UK the evaluation at this point can always be expressed as  the summation of x minus I minus UI times q i x  from I equals to 1 all the way to K and here Qi X is again a multivariable  naughty it's actually not straightforward to prove this equation but I refer you to the  original paper for a formal proof of this equation  and based on this polynomial equation then in the key generation instead of  sampling one a secret detail we are going to sample K secret Keys Tau 1 and all the  way to Target and basically each tau is representing the one variable in this multivariable polynomial  then we are going to compute the global parameters as GE raised to all possible monomials generated by power 1 all the  way to talking and for example as Justin discussed in lecture 4 for multilinear phenomenals  that are in total to the power of K monomials are generated by all the variables  then with this public parameter the commitment is very straightforward we  are still Computing G to the power of f Tau where Tau now is a vector Tau 1 to top K and again this can be computed  using the global parameters only the proverb is Raising each element of the global parameters to the corresponding  coefficient of the polynomial and multiply them together to get the commitment  next in order to compute the proof the poorer is going to evaluate this  polynomial at this point U1 to UK and invoke this equation to compute qix for  RI then the proof consists of multiple elements  Pi I equals to G to the power of q i evaluated at the point power here  for I equals to 1 all the way to K and finally to verify the correctness of  this evaluation we are again checking this equation in exponent using binary  on the left hand side is exactly the same as the universe case we are Computing the pairing between the  commitment divided by G to be V with the generator itself  on the right hand side we have multiple pairings so the verifier is Computing the pairing between G to the power of  Tau I minus UI and Pi I and then multiply all of them together from I  equals to 1 all the way to p and if you do the derivation this is essentially checking this equation  at Point Tau I in the exponent and  for the similar reason this scheme is correct and can be proved uh summed  under the same assumptions and in terms of efficiency the  commitment and the evaluation has the same complexity as before assuming that  the N is the total size of this polynomial then both of them are out of a group exponentiations the scheme does  introduce an overhead on the proof size and the verify time so now the proof size becomes order of K which is order  of a login for example for multi-linear polynomial and the same applies to the  verifier time so this is the scheme for multivert binomial commitment  the second extension I want to introduce is a way to achieve your knowledge and I  refer you to see lecture one for the formal definition of zero knowledge in the case of a pandemic Amendment  essentially geologically saying that there exists a simulator without knowing the polynomial the  simulator can actually simulate The View of the verifier and generate this proof  and that is the indistinguishable from a real execution with the polynomial  and turns out this plane kcg is not your knowledge and the simple way to see it is that  this commitment equals to G to the power of f tau is actually deterministic  although you cannot reconstruct a photo directly from the commitment you can actually do some testing for this  polynomial for example we can assume that is the polynomial a zero polynomial or  if that is true then G to the F of Tau must be equal to G to the power of zero which equals to what and you can  actually check whether the commitment is one or not and that tells you whether the phenomena is all zero or not and in  general you can make any hypothesis about whether a polynomial is of certain form and then compute the corresponding  commitment and check that if it's the same as a real commitment so in this way you can actually learn some information  about this uh a a secret pandemic so that is why this  scheme is not your knowledge and the key reason is that this commitment is deterministic and can be computed by by  anyone so the key idea to make it zero  knowledge is to mask post commitment and approve with some randomizers and here  I'm showing you a scheme from my paper with my co-authors in 2018.  so the key idea of this scheme is that instead of commuting to G to the  power of f dot Tau you are going to add a randomizer term that is R times ETA where R is a random number chosen by the  proofer and ETA is actually another secret key sampled by the  preprocessor in The Trusted setup and of course we also need to include G to the ETA in the public parameters but I omit  this step in this informal description and then to generate a proof instead of  doing the regular decomposition f x minus F of U we're going to do a  randomized decomposition you see here that on the left hand side we have an additional term R times Y  which is actually from this randomizer of the commitment and here we are replacing  ETA with a variable y and on the right hand side instead of doing x minus U times Q of X we are going to do x minus  U times Q of X plus r Prime Times Y where R Prime is another randomizer  sampled by the prover to mask this proof and then if you expand this  multiplication you will see that this is the remaining term and all of them have this common factor of Y so we can write  it as y times R minus r Prime Times x minus U with this decomposition we can actually  generate the proof Pi consisting of two elements the first element is g to the  power of Q Tau plus r Prime ETA which is essentially evaluate in this polynomial inside the first parenthesis at Point  Tau substituting X and the ETA substituting y and the second element is g to the power  of R minus r Prime Times Tau minus U and essentially from the second polynomial  in the parenthesis and then we can check the this relationship of the randomized  composition with the pairing equation to check the product in the  exponent and this is how we achieve zero knowledge for the kdgo polynomial  commitment scheme and another interesting thing to think about is that actually this scheme is  almost equivalent to generalizing the universe kg phynomial  scheme to the bi-virate case we are essentially adding an additional variable y  so that we can actually use this term to randomize what was the commitment and the secure and the proof  and for a correct evaluation of f of U we are essentially evaluating this by  very polynomial at the point U comma 0 where 0 is for the variable y  and in this way we can achieve zero knowledge  so finally the last variant I want to introduce is this batch openly so the first version I want to start uh  from a single polynomial where there is a one polynomial followed by the poor f  and the poorer wants to convince the verifier that the evaluation of F at multiple points U1 all the way to um for  M that is smaller than the degree d because if it's lower than the then you can reconstruct the binomial  uh in the first place so the key idea to generate a short proof  for this multiple evaluations is that we can actually extrapolate the  evaluations fu1 fu2 all the way to fum to get a polynomial h of x  the property of this h of X is that hu1 should equal to fu1 hu2 should equal to  fu2 and so on and so forth and hum should equal to f u n and there exists a  unique polynomial of HX of degree M with such a property with a leading  coefficient one so with such a polynomial h of X then we have a new  equation here f x minus h of x equals to the  product of x minus UI for I equals to 1 to n times the quotient polynomial QX  why is that again we can check the roots of this polynomial on the left hand side  if you take evaluate this polynomial U1 then because of the property of H of x  F U1 equals to hg1 so the left hand side is 0 at Point U1  for a similar reason it is also zero at U2 u3 all the way to  u n so because of that you want you to and you you three and the other way to  um are all roots of this polynomial f x minus h of X and because of that it can  always be decomposed as this product times the quotient polynomial Q of x  so then we are going to compute the proof pi as G to the power of Q Tau as in the regular case with one opening and  note that this is only a single element in the base group for multiple evaluations  finally we can check this polynomial equation at Point Tau using the pairing again  so on the left hand side you're going to compute the pairing between the commitment divided by G to the H of Tau  and the generator itself and the verifier is able to compute this G to the H of Tau using the global parameters  on the right hand side we're going to compute the pairing between G to the power of the product of  Tau minus UI again the verifier can compute it using the polynomial  interpolation and Global parameters and then we are going to pair do the pairing between this one and the pi itself  and if the poor is honest then this equation should hold because of this  polynomial relationship and we can prove the soundness in a similar way and reduce it to the Q  strong bilinear DV home assumption so in this way for module evaluations and evaluations  the proof is still a single element but know that the birth of our time is  actually order of X grows linearly in a number of evaluations  foreign version which was actually left as a  homework in the previous lecture by then there exists a batch opening protocol  for multiple evaluations of multiple polynomials and multiple evaluations so now in the most General case the poor  work commits to multiple polynomials f i x for I equals to n for I belongs to n  the set uh then and then the program wants to prove that f i u i j equals to vij for J  belongs to the set of n and the key idea is uh  kind of similar to a single polynomial case for every polynomial fi we are  going to extrapolate fye1 FYI U2 and missing a index here fi um to get hix  for I in net then for the similar reason we have a  polynomial equation for every polynomial f i x my n minus h i x equals to  the product of x minus uim  times q i x so we are going to have a qix for each  polynomial fi and then we can combine all of these qix via random linear  combination and compute G to the power of that polynomial which is only a single element in the proof and then the  Verve architect reproduce all of these equations in the exponent using the public parameters and then check this  equation using bilinear query so in this way we can actually batch the molecular  evaluations of multiple polynomials into a single group  so that's all the variants I want to discuss about the kg Panama Kaminsky so  going all the way back to the general purpose snarks with these variants of kg  pandemic elements we can actually construct a stocks based on these polynomial iops for example using the  plug system we can combine this Planck polynomial IOP with the universe kcg  polynomial commit scheme to get a stark for generous circuits and this is exactly construction proposed by the  Planck paper and in terms of interactive proofs there  are actually several papers uh proposing these constructions so we can actually combine a some check protocol or a  variant called the gkr protocol for layered arithmetic circuits with the multivariate version of the kdg Panama  commitment and that leads to an efficient Stark for the computation of  circuits and this idea was used in the systems called visico and later in Libra  in these two papers so that completes the discussion of the  Panama commitment scheme based on bilinear pairing and in the next segment I'm going to talk about other polynomial  schemes based on this real algorithm  welcome back to the last segment of this lecture in this argument I'm going to talk about Dynamic mem scheme without  trusted setup based on discrete logarithm recall that the kcg pandemic movement  scheme is very impressive performance in practice both commitment and the proof size are  only order of one it's a one group element each and verify time is only uh  one pairing equation but the main drawback of this polynomial scheme is that requires a trust setup to  generate Global parameters and of course the ceremony process relaxes trust a little bit and it's  actually good for many applications in practice but still this trust setup is a  fundamental problem to solve so in recent years there has been a main  focus to construct efficient transparent serological schemes without  trusted setup and in this lecture I'm going to talk about uh the scheme based on a  bulletproof which was proposed by budo in 2016 and later refined by wunzel in  2018. and in the original bullet paper they proposed a inner product argument  and has a special protocol for range proofs and also can be generalized to  proofs for a general arithmetic circuit but here I'm just going to rephrase this  bulletproof protocol as a polynomial commitment because it can still show the key idea  of this bulletproof reduction but it was significantly simplify the protocol  so in this scheme the key generation is actually very  simple we're just going to sample the global parameters as a d plus one random  elements in this group without there's no trapdoor or secret  key in this setup process so that is why we call it a transparent setup and note  that the size of this Global parameter in the construction bulletproofs is still linear in the degree of the polynomial  with this Global parameters the commitment of the scheme is also very  simple so again give a polynomial f x equals to F0 plus F1 X Plus F2 x square  and so on all the way to FD times x to the D the commitment  is simply g0 to F0 times G1 to F1 times G2 to F2 and all the way to GD to FD so  basically we are still raising each element of the global parameters to the corresponding coefficient of this Phenom  and then multiply them together to get a constant size commitment and for those who are familiar with the  pillars and commitment you can see this is actually the uh standard commitment  scheme for the vector version of the Peterson commitment and here I'm omitting the random term of the Peterson  commitment but it is actually not hard to just add a term H to the r at the end  and all the protocols should follow  so with this commitment I'm going to first describe the high level idea of  this bulletproof reduction so  when the verifier picks an inversion Point U the plural replies with this v  as the evaluation of this polynomial at Point U and here I'm using example of a degree three polynomial which equals to  F0 plus F1 X plus a 2x squared plus F3 x 2 to 3. and clearly the evaluation  is is equal to this equation if the prover is honest and the key idea of this bulletproof  reduction is to actually reduce this claim of evaluation V at Point U for the  polynomial inside this commitment to a new claim  about the new polynomial of only half of the sides so through a reduction we want to reduce  this original polynomial of degree 3 to a new polynomial of degree only one with  two coefficients of zero prime plus F1 Prime X and then we can somehow compute the  commitment of this new polynomial as com Prime there's some new bases g0 Prime to F  zero Prime Times G1 Prime to F1 Prime and also a new claim about the evaluation V Prime  for the new polynomial at Point e and  if you can do this then the verifier will receive a new instance of this polynomial commitment for a polynomial  of degree only half then we can just keep doing this recursively to reduce the new instance  to another polynomial of degree only D over 4 and D over 8 and all the way to a  constant degree polynomial and finally if we don't care about the  zero knowledge for time being then uh in the last round the program can just send this constant size phenomenal to the  verifier directly and the verifier opens the polynomial and checks that the evaluation of the last round is indeed  true and that completes the entire reduction and guarantees that the original  evaluation of this V for this polynomial of degree 3 is actually correct so that  is the height of idea of this Bulletproof but the main challenge of this reduction  is how can we go from this original polynomial to a new polynomial of half  of the size we have to check the relationship between these two polynomials you can't  let the proverages to commit randomly to a new commitment without any relationship before and then commit to a  new evaluation V Prime then the Brewer can just cheat  and the lie about the original evaluation because there is no relationship between V and V Prime and  com and comp Prime so the major Challenge and the problem we are  going to see next is how can we establish such a connection between the old instance and the new instance  so um here I'm listing the global parameters as GGO G1 G2 and G3  and a common way to reduce the phenomena to half of the size is to actually  decompose it to two parts and the way I'm doing here is we're going to have a left part of the  polynomial and the right part of the polynomial and here you can see that I'm defining VL as F0 plus F1 U which is  from the first half of the coefficients of the original polynomial effects and similarly we have VR equals to F2 plus  f3u which is from the second half of the polynomial note that I'm restricting the  degree of both polynomials as only one half of the orange jump and now  so with these two values it's not hard to see that the original evaluation V Should equal to VL plus VR times U  Square so that gives you a way to check the correctness of this VL and VR  after that another quite common approach to reduce the original polynomial to a new  polynomial of only half of the size is through random linear combination so now we have two parts of the binomial  first half and second half then the number of our Peaks a random number R and send it to the proofer and the  proofer is going to combine these two polynomials by multiplying R times the  first half plus the second half and the result of that is this new polynomial of only two elements  in this new polynomial F 0 Prime simply equals to R times F zero plus F2 and F1  Prime equals to R times F1 plus F3 so in this way we reduce the original  polynomial of degree three to a new polynomial of degree one that is only of half of the size  then with this new reduction uh it's not hard to see that the evaluation of this  new polynomial at Point U should equal to R times VL plus v r  and this is the new claim V Prime the verifier is trying to check  so in this way I show you a simple approach to reduce this polynomial to  a new phenomena of only half of the size and at the same time  the verifier has already checked the claim about the relationship between the  new evaluation V Prime and all the evaluation B through these two parts of VL and VR  so the only remaining challenge is to generate the commitment of this new  panel that turns out this step is quite challenging because given this new  polynomial you can't let the providers to compute  the same periods commitment using the same basics for example if you ask approval to commit g0 to this first term  and G1 to the second term there is a no way for the verifier to check that this new commitment is indeed computed from  the vectors in this old commitment comf that is because now we have a  transparent setup we don't know the relationship between these different bases  and we can't compute computations in exponent across these different bases  so in order to address this issue here's the clever design of this fully proof  protocol so in addition to this VL and VR in the  same round we are going to ask the Brewer to send two more commitments  and the first one is G2 to F0 times G3 to F1 and the second one in g0 to F2  times G1 to F3 so intuitive speaking this is the commitment to the first half  of the polynomial and this is commitment to the second half of the panel that's why I name it IO and r  but interestingly the bases are different we are using G2 and G3 to commit to the  first half and g0 and G1 to commit to the second half so it's kind of a cross  term for this to compute these commitments we are using the second half of the devices  to commit to the first half of the polynomial and then we use the first half of the basis to commit to the  second half of the thumbnail so that is L and R again both of them are only one  element in the group so with L and R turns out the verifier  is able to reduce this old commitment Comm F to a new commitment for this new  polynomial and how can she do that through this magical  equation the verifier is going to compute com Prime as L to the power of  this random number times the original commitment times R to the power of small  R inverse and with that we claim that this commitment is actually for this new  polynomial under a new Global parameters  why is that now I'm going to explain this magical computation in this slide  so here I'm listing uh the information received from the proverb if the proverb  is almost so the original commitment is this uh g0 to F0 G1 to F1 and so  forth and the left part is the cross term for the first half and R is the  cross term commitment for the second half and the verifier is Computing is comp  Prime as L to the r times the old commitment times R to the small R  inverse so what is this computation but then let's just expand that term by  term so first let's see what's happening for the space g0  so in this equation the second term com has this uh a term  g0 to F0 so we're going to write it here and R contains the term g0 to F2  and then we raise it to the power of a small R inverse so that gives us R inverse times F2 and there's no term  inside this commitment L with basic base G zero so the result of this computation gives  you g0 to F 0 plus r inverse times F2 on top of the base of g0  similarly let's take a look at G2 from the uh the commitment L there's a  G2 to the power of F0 and when we raise it to the power of small r that gives G2 to R times F0  and from the old commitment we have G2 to F2 and we don't have anything  with the base G2 in the commitment r So In Sum that gives us G2 to the power  of R times F0 plus F2 and then we can do the derivation again  for the basis G1 and G3 and again G1 you have this G1 F1 from the commitment and  a G1 f 3 from the r part and brings it to small  R inverse so we have G1 F1 plus r inverse times F3 and finally for G3 you have this G3 F3  from the commitment and G3 to the F1 times R from the L part of the  commitment so all I'm saying is that uh it looks  complicated to expand everything and figure it out but there's no magical math involved you just do it step by  step for every basis and you end up with this equation as the new commitment comprise  so done with that the interesting observation is we can actually extract a  common factor from the exponent of g0 and G2 and this common factor happens to be R  times F0 plus F2 clearly you have this factor from in the exponent of G2 and so you end up with G2  in the parenthesis from the exponent of g0 if you  extract this R inverse out then the remaining term equals to R times F0 plus  F2 that is why it also has a common factor R times F0 plus F2 and the remaining  term in the parenthesis is G 0 raised to the power of R inverse  similarly we can do the same thing for the base of G1 G3 and the second part of  the new commitment equals to G1 to the power of R inverse times G3 together  raised to the power of R times F1 plus F3 and recall that this is exactly the new  polynomial we are trying to reduce to right the new polynomial contains two  coefficients the first coefficient is exactly this r f 0 plus F2 and second coefficient is R times F1 plus F3  so that is saying after this computation the verifier ends up with a new commitment  and this is again the same as the pillars and commitment and exponents is actually the from the new polynomial  and the bases are from these uh two numbers in the premises  so we have to update This Global parameters as g0 to the r inverse times  G2 and G1 to the r inverse time G3 and combine them together so in this way we  have a new Global parameters or new set of bases of only half of the size and this com Prime is exactly the commitment  of this new polynomial using this new basis so that solves the problem of  establishing a connection from the old commitment to a new commitment with the help of these two values L and r  so going back to the original picture that completes the description of one  step of this reduction so in each round the plural can actually send vlvr as the evaluations the first  half and second half and L and R as the cross commit term commitments of the first half and second  half and verifier can update the commitment at this equation and derive  the new basis as this equation and computes the new claim of evaluation V  Prime as R times VL plus VR so in this way they can reduce the original  polynomial and evaluation to a new polynomial and evaluation of only half  of the size and note here that another point on the  Highlight is uh someone may be familiar with for example the standard fft reduction which actually decomposed the  polynomial as the odd terms odd coefficients and even coefficients and I  believe is actually still working you can actually decompose it as odd and  even instead of the left part and right part and the same protocol should still follow for this polynomic commitment  based on bulletproofs so uh with this uh protocol of the  reduction here we can actually generalize it to a polynomial of any degree d  so uh with the commitment of that polynomial the job on the poorer side is to compute  this lrvl and VR energy trunk and then the brewery receives a  Randomness from the verifier and reduces polynomial F to F Prime of degree only D over two and here to be precise I'm  actually assuming that the D with d plus 1 should be a power of two so after  reduction degree should be uh D minus 1 over 2 or something like that but this  is not that important and just a corner case and after that the Brewer should update  the basis from the original Global parameters GP to GP prime using equation  I explained before on the very far side the verify receives  two new claims VL and VR first she has to check that they're consistent  with the original claim the evaluation B and then the verifier generates this are randomly and of this  commitment as this equation updates the global parameters and also updates the  claim of the evaluation V Prime as R times VL plus VR and after that they're going to re at  the recursion for log D times to further reduce degree to D over four D over 8 and all the way to a constant final  and to complete this entire particle in the last round the proverb simply sends this constant size binomial to The Verve  R the verifier checks it against the commitment checks that the evaluation the loss runs correct which completes  the entire reduction of this bulletproof and guarantees that the original evaluation of this polynomial of degree  D is actually correct so that is the complete description of  this polynomial commitment scheme based on bulletproofs and here I won't go into the details the  soundness proof of this bulletproof but roughly speaking you are using this to randomly combinations to actually  combine two claims about the left part and the red part into one claim  of only half of the size I refer you to the original paper for more details about the security proof  so finally let's take a look at the properties of these bullet proofs so in a key generation there's no  chapter or a toxic waste the setup is transparent and the size of the global  parameters is linear in the degree of the polynomial so this is the solves the problem of the KGG pandemic commitment  to commit to a polynomial it also takes all of the group exponentiations and the  commitment is gain of size uh a constant one element in the group  and to generate the proof it takes only order of B group exponentiations because  it is a recursive reduction and every time you cut the size of the phenomena to a half so in total the complexity  remains linear in the degree of the panel and the version I described before is  actually interactive between a proven verifier and you can actually of making nine interactive where the  fear Shamir transformation and in addition the proof size is only order  of log D because in every round the program is only sending a constant number of elements to the verifier  remember this is l r and bl and VR four elements in total in the version and this Square  and finally one of the main drawback of this product  based on bulletproof is this verify time the verify climb is actually linear in  the degree of this Phenom and that is because recall in the description of this protocol the verifier has also to  update This Global parameters by combining two races into one using this random  number R and the complexity of this step is actually linear which is the same as  the complexity as the of the grouper so that is why the verify time is actually  quite slow in practice using this version of the panamic element based on coordinate groups  so um in order to further improve uh the properties of the bulletproofs there are  some has been other polynomial command schemes based on the squared logarithm in the literature and  I don't have time to go into details of this uh uh protocols but here I'm just going to highlight the key improvements  and the key ideas in these schemes so the first game I want to mention is this hierarchs proposed by Bobby Adar in  2018. so in this paper they propose another Panama coming scheme that  improves the verify time from linear to only square root d and the key idea is to represent the  coefficients of this polynomial as a 2d Matrix then you can actually commit to this  Matrix row wise and then do a reduction column wise to get the final answer of the polynomial evaluation  and with this approach the proof size and the verifier time are  only linear in one dimension of The Matrix so in this way we can achieve the proof  size of a square root D and the verifier time of square B and also in the paper there is actually  a flexor way to choose these parameters for example the proof size can be further reduced to the nth root of D  with the cost of verb are increasing to D to the power of 1 minus one number one  so essentially the product of these two has to be linear in D so that is the  Panama commitment in the hyrax paper  another very important paper for Panama commitment is called Dory proposed by  league in 2021 and this is a very nice improvement over the phenomically scheme  based on bulletproofs and the key contribution is to further improve the verifier time to only order of blockly  without any asymptotic overhead on other parts and the key idea of the story paper is  to delegate the verifiers computation to the approver site recall that the verifier has to update  this basis to generate new set of global parameters by combining two elements in the old Global  parameters and this is a very well structured computation you always take two elements from the global parameters  that are publicly known and well structured and combine them with using  the random numbers chosen by the verifier and using the approach called inner  pairing product arguments proposed by this paper Dory is able to delegate this  computation of the verifier to the prover side and the time to verify the step of computation is reduced to only  order of log d so with this approach the verify our time is sub-venier in the in the Panama  commitment another Improvement to highlight is the protocol also improves the poorer time  to only other square root d exponentiations but uh the time to evaluate this  polynomial remains out of D so still asymptotically the poor times the linear  number of field operations and this Improvement also uh concrete  speaking this improves the poor time significantly in practice but for the purpose of constructing efficient zero  knowledge group schemes it really depends on your protocol for some protocols for example the Planck  protocol we covered in the previous lecture the poorer has to commit to a polynomial  defined by the winners and then later opened it at some random  Point chosen by the verifier and because of that the poorer time of the zero knowledge group scheme includes both the  commitment and the poor time of the Panama commitment so in that sense the  addition of these two steps still remain linear number of exponentiations using  the door reconstruction finally the last paper I want to mention  is this dark paper by buns fish and the spear neck in 2020. so this paper also  achieves a strictly order of a log the proof size and verify time and in fact  the scheme I described for panamic Amendment based on bullet proofs in the previous slides is actually inspired by  the construction in this paper so this is also very important paper in the literature and the key idea is also  delegating some of the uh verifiers computation with linear time  to the Poor Side using some prior protocols and the Primitive of the  cryptographic Primitive this paper works on is there's a group of unknown order  foreign so finally to summarize this entire  lecture so in this lecture we've talked about Dynamic immune schemes based on bilinear pairing and this great  logarithm and in the first part we studied this classical design of the kg polynomial  commit scheme and this scheme has a trust setup that has a very impressive  performance in practice both the proof size and commitments are only one group elements and the verifier is constantly  a single parent equation uh any other to remove this strategy  side setup and achieve the transparent setup we have a sequence of a workspace down variants of the Square log problems  in different groups so uh the bulletproofs reduces the  removes the trust setup and achieves the logarithm proof size and it is purely based on the discrete log assumption but  unfortunately the verifier times linear in the degree of the panel a linear this is improved by the Harris  Construction where the cost of an increase on the proof size to square root  and finally we have a two papers that achieve both logarithm full size and  logarithm uh verifier time without any trust is set up the doorway paper is  based on the the bilinear pairing operation for the linear pairing product argument and the dark scheme is based on  the group of unknown order so that is everything I want to talk  about in this lecture thank you for listening
I'm going to talk about  polynomial commitments based on bilinear pairing and discrete logarithm  recall that from previous lectures we've learned that a common recipe to build an efficient snark system is this General  Paradigm in two steps we first design a proper interactive Oracle proof such as a polynomial IOP  and then we can combine it with a polynomial commitment to build an efficient Stark for circuit evaluations  in the last lecture Dunn has taught about the Planck scheme where we can reduce the computation of a general  circuit to several proof Guardians such as the polynomial quality testing product check permutation check and so  on combining the Planck IOP with a universe polynomial commitment you will get an  efficient snark for General circuits earlier in lecture 4 Justin talked about  interactive proofs and shows how to check the circuit sets viability using the classical soundtrack protocol  at the end of this protocol the verifier has to evaluate a multivariable polynomial defined by the prover's  business at a single point and this is again realized by a multivariate dynamic  commitment scheme in order to get an efficient snug so in today's lecture I'm going to  formally present the constructions of polynomial schemes based on bilinear pairing and discrete logarithm  combining them with the polynomial Keys we learned before we will eventually have the complete description of several  efficient Stark schemes so to start what is a polynomial commitment  it is again a protocol between approver and a verifier for a family of binomials  for example Universe polynomials will degree less than or equal to B and the prover has this polynomial in  the family and without sending it directly to the verifier the poorer can commit to this  polynomial several polynomial commitment later the verifier can issue a query on  the evaluation at this point U and the Brewer replies with the value V and the  proof Pi proving that V equals to the evaluation F of U and at the same time F  belongs to this family of polynomials more formally speaking there are four  algorithms of a atomic Amendment scheme Keygen can meet Evol and verify  the occasion takes the description of this family of the polynomials and the  security parameter and now puts a set of global parameters it is also known as a  public key or public parameters or common reference string but in this lecture I'm just going to use GPU to  represent it then given GP and the polynomial the poorer can compute the commitment of  this polynomial and later at the evolution Point U the poorer can call this evolve algorithm to  Output the evaluation V and the approved pi and finally the verifier can verify  the correctness of this claim using GP the commitment UV and pi and I'll put  either accept or reject the correctness of a polynomial  commitment says that if the proofer is honest and follows all of these algorithms then the verification always  outputs except and I omit a formal definition here or interestingly we want the skin to be  soft meaning that the prover should not be able to lie about this evaluation and  here I'm showing the formal definition of a knowledge science it says that for every Panama time  adversary given the global parameters generated by TJ if the words you can output a valid  commitment evaluation and proof that pass the verification with probability  one then there must be exists an efficient extractor that uses a so that  it can extract a polynomial F where F of U equals to V and f x belongs to this  family of polynomials with an overwhelming probability so that is the formal definition of  knowledge soundness of polynomial convenience so in order to fully understand the  construction of economic amendments there will be three segments of this lecture so first I'm going to introduce some  mathematical and cryptographic background on groups discrete log and bilinear Perry  after that I'm going to present the classical Construction of this kcg polynomial commitment using  bilinear pairing and also talk about this variance finally in the last part I will talk  about polynomial schemes without trusty setup such as bulletproofs and also  highlight some other schemes based on the screen logarithm such as hierarch Dory and dark  so let's start with some backgrounds the first thing I want to Define is a  group a group is a set of elements and the operation star  that satisfy these four properties and I think it's actually easier to walk through these properties with a concrete  example that everyone knows like integers and their additions as you can see here closure means that  given two elements in the integers A and B now A plus b should also be an integer  and this is clearly true for integers under addition associativity says that  uh Computing the result of a plus B and M plus c should equal to a plus the result of B  plus C and this is also true for integers and identity means that there exists an  identity element such that e plus a equal to a plus E equals to A  itself and 0 is the identity element for integers under addition and finally for every element in this  set there exists an inverse such that a plus b equals to zero again for integers  this is taking the negative of the number so because of this integers under addition satisfy all of these four  properties so it forms a group and other groups  that people are familiar with in Congressional numbers real numbers complex numbers and so forth  however group we use in cryptography are quite different for example a common group we use is  positive integers modular prime number P under multiplication and the set is one two three all the way  to P minus one and this is the finite set and you can check that it actually  satisfies all these four properties and it says form a multiplicative group  another common group we use is defined by limit curves but I'm not going to go into details in this lecture and I will  mainly use this example of the multiplicative group modular p in this lecture  so given the definition of a group then for every group there exists uh the  concept of the generator so the generator is an element that can generate all elements in this group by  taking all powers of this element G for example taking the multiplicative  group modular the prime number seven the elements include one two three four  five six and then we can actually take three as an example uh as an element you  can see here that if you take all the powers of three and of course computation always done modular 7. you can see that it iterates  through all possible elements three two six five four five one in this group so  because of this by the definition 3 is the generator of this multiplicative group of z7 star  by the way there really exist multiple generators and they can be efficiently computed and sampled in practice  with this definition of a generator then a group G has an alternative representation as the powers of the  generator G you can write it as G to the 1 G2 all the way to G to the P minus one this is because by the definition of the  generator this set either is through all possible elements so this is essentially  the same set of the group in a different order here note that in this lecture I'm using  a multiplicative notation where the operation of the group is multiplication and exponentiation means  repeating the modification multiple times recall that in the last lecture done was using the adjective notation  where the base operation is addition each of these two notation is convenient  for different protocols and is actually good for you to understand both notations but I will use the multiplicative one in  this lecture so because of this alternative way of defining the group then we can formally  Define a problem called the squared logarithm the problem is given an element Y in this group please find X  such that a generator G to the power of x equals to y this is well defined for everyone  because of this alternative representation and the problem is analog to the logarithm computation in the  continuous case thus it is called discrete log so then let's see an example um the  multiplicative group more sub and so please tell me what is X such that 3 to  the x equals to 4 mole 7. can you compute it now  actually you can't figure it out immediately and basically the naive solution is trial or all  possible X to see which one is true for this equation  and this suggests that this problem is actually hard to solve and this is known as the famous discrete log assumption  the Assumption says that this this log problem is computationally hard and basically the new solution is try  all possible elements in the group which the complexity of which is a proportion  to the size of the group and it's computationally hard if the size is exponentially large and there are a  better algorithms in practice that improves the running time a little bit but still is considered not in  polynomial time and by the way this this grillock assumption does not hold in R groups but  it's believed to hold in certain groups that are used in cryptography and also a common computers will  actually solve this this gridlock problem in polynomial time therefore  all Aggregates are all protocols based on the discrete log assumption will not be postponed and secure  another popular assumption that is highly related to that this gorilla assumption is called the DV helmet  assumption and here I'm presenting the version called computational DD helmets option it says given to the X and G of Y you  cannot compute G to the X Y efficiently and it's also a fundamental assumption in cryptography and you can see here  that clearly if you can solve the screen lock problem then you can compute X from G to X and Y from G to Y and then use  them to compute G to the X Y so therefore this is something stronger than the discrete log assumption but  still it is believed to be hard in the groups we are using in cryptography  with these definitions I'm ready to present the uh important building block  we are going to use called bilinear Parry so in a bilinear uh pairing  in addition to the group G and the generator G we also have a Target group called GT and an operation called Perry  we use e to denote it the base Group G and Target group GT are  both molecular groups of order p and g is the generator of the space Group G  and the rule for the pairing operation is that it takes input X that takes two  elements in the base group as input P to the x and q the Y and after the  pairing it gives you an element in the Target Group which equals to e p q to the power of X Y  so basically is a Computing the product in the exponent of  this equation so again to get familiar with that using  an example given to the X and G to Y the pairing of these two elements equals to e g g to  the power of X Y and by a similar rule this also equals to the pairing between G to the x y and the  generator G itself so this gives you a way  that given G of X and G to the Y you can actually check if some element H is g to  the X Y or not without knowing X and Y so basically this gives you a tool to  verify that the product relationship in the exponent of the computation but not Computing it so note that using pairing  you cannot break the computational DV home assumption you cannot compute G to the X Y directly but you can use pairing  to check if someone gives you the result of G to the X Y whether it is true or not  and again uh for your information not all groups in which the Square log is  hard I believe to support efficient computable pairing but some groups are especially those defined by limit curves  so a good example to get more familiar is this a pairing operation is through  this uh elegant design of a BLS signature this was proposed by paneling  and chachang in 2001. so the key generation of this BR signature is very simple the private key  is just a random element X and the public key is g to the x by the discrete  log assumption given G to the X it is hard to figure out the X the secret key  the other design message we are going to compute the hash of this  message and then raise it to the power of X where H is a cryptograph cache function that Maps the message space to  the base group in order to verify the signature note that everyone can actually compute h of  M that is a public hash function but without knowing X we cannot compute the hash of M raised  to the power of X directly so what can we do here comes the pairing operation we can  actually pair the H of M with G to the power of X which is the public key this is known by everyone and then check if  it is the same as the pairing of the signature and Generator itself  if the signature is computed honestly as h of M to the power of X then this  verification will pass so that's the correctness part of the BRS signature  for soundness uh in the paper it can be shown that if there exists an adversary  that can forge signatures then we can actually use the adversity to break the computational DP hormone assumption in  this bilinear group so therefore this signature scheme is secure  so this shows you an example that utilize the power of the pairing to check the product relationship in the  exponent of this equation  with the background on the bilinear pairing I'm ready to show you the construction of the hdg polynomial  convenience scheme in the second segment of the lecture  scheme was introduced by Kate the varsha and Goldberg in 2010 and the  applications in the original paper include verifiable secret sharing and verifiable polynomial delegations but in  recent years it has become a very important building block to construct the efficient stock systems in practice  recall that there are four algorithms for a phenomic commitment scheme we have a key generation that generates a set of  global parameters and then the approver called this commit algorithm to compute the commitment for a polynomial f  later for an invasion Point U the poorer called the Evol algorithm to compute  evaluation together with the proof pi and finally the verifier calls the verify algorithm to verify the  correctness of the evaluation and we're going to go through the four algorithms  of the kcg Panama commitment scheme one by one the scheme works on a bilinear group  with a base Group G A Target group GT and a pairing operation e and the basic  version works for the family of universe polynomials with degree less than or equal to D where D is a publicly known  parameter first in the key generation algorithm we are going to sample a random numbered  tall in this finite field mode p and then we are going to use Tau to compute this set of global parameters in  particular we are going to raise G to the different powers of Tau we have g g to the power of Tau G to the power of  Tau square and so on all the way to G to the power of Tau to the D note that the size of this Global  parameters is linear in the maximum degree of the polynomial we want to support  intuitively speaking since we are using a group in which the Square log problem is hard no one should be able to compute  power given this set of global parameters so in that sense tau is hidden in the  exponent of the generator G after that in an important step of this  key generation algorithm is that we have to completely delete this security talk that is because interestingly in the  remaining part of the kcg polynomial scheme we are not going to use this thought at all it suffices to use the  global parameters to commit and generate the proof and to verify the evaluation  and if anyone can have access to this secret key talk then they can actually  generate a fake proof to full the verifier and to break the security of this polynomial community  so it is very important to Desert this talk after the key generation algorithm  and this step is called the trusses setup because we have to trust this  preprocessor to discard this toxic waste of talk after the execution and in  practice this is not desirable for many applications because it is hard to find a trusted party to run this trusted  setup so given this set of global parameters  the way to commit to a phenomena is as follows first we are going to represent this polynomial in the form of the  coefficients we have F0 plus f1x plus F2 x square and so forth all the way to f d  x to the power of d then the commitment we are trying to compute is simply G to the power of f  evaluate that at the point power and turns out the footwork I actually  computed without accessing Tau directly you can actually compute it using the  global parameters only that is because if you just expand the expression of f  of Tau we get G to the power of f 0 plus F1 Tau plus F2 Tau square and so on and  by the root of exponentiation it equals to G raised to the power of f  zero times G to the power raised to the power of F1 times G to the Tau Square raised to the power of 2 and so on and  so forth and this is because basically the addition in exponents is equivalent to multiplications in the  base level and multiplications in the exponent is equivalent to exponentiations in the base level  so in this way we can compute the commitment using this equation and note that each of these elements in the  parenthesis is actually from the global parameters directly so in this way the  poorer can actually raise each value in the global parameters to  the corresponding degree defined by the coefficient of the polynomial and get  this commitment without using power directly so that's how we commit to  a phenomenon I know the size of this commitment is only one element in the base group of the  bilinear group so after that let's see how can we  generate a proof for evaluation of this polynomial F at the point U  the most important key idea of this kg pandomic amendment is actually based on this polynomial equation  where for any polynomial f x minus F of U can always be expressed  as the product of a two polynomials x minus U times another polynomial Q of X  where the degree of QX is D minus 1. and it's actually not hard to see this  relationship because you is clearly a root of this phenomenal f x minus F of U this equals to 0 at  Point U and because of this fact then the polynomial f x minus f u can always  be decomposed as x minus U times Q of x and there are other ways to prove the  correctness of this equation for example using Taylor's expansion  so with this polynomial equation then the idea of a kcg polynomial commitment is for the plural to compute this  binomial Q of X and then generate a proof pi equals to G raised to the power  of Q evaluated at the point power again this can be computed using the  global parameters only without accessing assessing this top and the proof size is only one element  in the base group of the bilinear group finally how can we verify the  correctness of this evaluation then the idea of this verification is to check this polynomial equation at this  secret Point top in particular we what we are trying to check is G raised to the power of f Tau  minus F of U should equal to G to the power of power minus U times Q Tau and  this is basically replicating this Panama equation in the exponent at the point  substituting the variable X and here I'm listing what will happen if  the poorer is honest basically the poor is going to commit to G to the F of Tau and the proof it's due to the QR power  and this inversion V is f of U so given all of these values  we can we almost have all the information about this equation to check  so on the left hand side we have G to the F of Tau given by the plural and we have G to the F of U again  given by the plural as the evaluation on the right hand side the verifier knows the version Point U this is the public  information and we have a g to the Tau in the global parameters and the proverb returns G of the Q of Tau as the proof  but unfortunately we cannot compute G to the Tau magnitude times Q of power  directly this is because the verifier is only given G to the Tau minus U and G to  the Q of Tau as the proof and by the computational DV home assumption it is actually hard to compute G to the power  of power minus 0 times Q of Tau given these two values  so what can we do well the solution is to use by linear Parry recall that  carrying gives you a way to check the product relationship in the exponent of  the equation instead of computing it so with pairing instead of computing G  to the Tau minus U times Q Tau we are going to check the correctness of this computation  in particular we're going to pair the commitment divided by G to the power of  the evaluation V with the generator and on the right hand side we're going  to check whether this is equal to the pairing of G to the power minus U and the proof itself  and to see the correctness of this verification if we substitute these commitments and  proof by the correct evaluations provided by the onus proverb  you can see that the left hand side equals To Each G to the power of f of  power minus F of U because of the rule of the pirate equation and on the right  hand side if Pi is honestly computed it should equal to G to the power of Q of  power and then by the rule of bilinear pairing the right hand side equals to egg to the power of Tau minus U times Q  of Tau it's basically Computing the product in the exponent and finally because of this uh  equation if the poorer is honest this equation pairing equation should  hold each is used to the power of f Tau minus F of U should equal to e g to the power of power minus U times Q uptau  This is essentially checking this equation uh to the secret Point Tau and that completes the description of  this entire kcg polynomial commitment scheme finally to put it back to this uh  uh slide showing the interactions between the proof and verifier in the key  generation algorithm we are going to generate the global parameters as GH is the Tau all the way to G to the power to  the D and this is the trusted setup step and then for a polynomial f of x the  plural can commit to it using only the global parameters and compute G to the alpha power as the  commitment later for inversion the evaluation Point U the poor work computes this polynomial  equation f x minus F of U equals to x minus U times Q of x  After figuring out Q of X the Brewer computes this proof pi as G to the power  of Q taught and finally the verifier checks this polynomial equation  in the exponent using the pairing operation and that is complete the description of  the kg polynomial commitment  now we've explained the correctness of the kgu polynomial Community namely if the prover is honest then the correct  evaluation in the proof can always pass the verification because of the polynomial equation  but what about sum is why can the brewery return a wrong evaluation and  the fake proof and still pass the verification but the soundness of the scheme is  actually based on so-called Q strong bilinear DV helmets option the Assumption states that given a  bilinear group and the global parameters G to the Tau Chiefs R square all the way to G to the power to D  uh the worst rig cannot compute this value e g g to the power of 1 over Tau  minus U for any constant U and this is actually a variant of the  disk log assumption and the DV home assumption from a name you can actually  tell that there is a rigorous reduction from this assumption to the  computational DV home assumption which means that this assumption is strictly stronger than the computational DVM  assumption but still we believe that this assumption holds in the bilingual  groups we use in cryptography  so with this assumption I'm going to show you the formal security proof of the energy pandemic  commitment scheme and this slide will be quite technical but I'm going to go through it slowly step by step and I  also think that it's really an elegant security proof and the good place to show you a formal proof in cryptography  here to a calmer approach to prove Security in cryptography is by contradiction  in the first step we suppose that there exists an adversary that can return a  wrong answer V Star that is not equal to F of U a fake proof but still pass the  verification then by the equation of the verification we have the pairing  of the commitment divided by G to the V Star and the generator G should equal to G to the power of Tau minus U parabiz  the fake proof Pi star this is directly from the equation we check in the  verification the next I'm going to cheat a little bit and write this commitment as G to the  power of f of power for Psalm polynomial F knowing by the anniversary  and this is actually a big assumption because for just a randomly generated  number as a commitment you cannot always write it as G to the F for some f node by the anniversary and  we need a so-called knowledge assumption to really make it happen I'm going to explain it in detail later in the  lecture so if we're good with this uh  writing this commitment as the G to the power of f of Tau then the next step is  the key idea of this security proof because this V Star is different from  the real evaluation F of U we are going to subtract F of U from  this value in the exponent and then add it back  the purpose of doing this is that now in exponent we have F Tau minus F of U  which is the correct evaluation of this polynomial plus a difference term  which we defined as Delta equals to F of U minus V Star and note that this Delta  is non-zero because V Star is not equal to F of U because the proof is cheating  so then now we have the correct evaluation F of Tau minus F of U in exponent this can be  decomposed as Tau minus U times Q of Tau for the correct Q  in exponent Again by the polynomial equation I introduced earlier in the  lecture and then by the rule of the bilinear  pairing we can try to extract this uh these elements in the exponent and put  it outside of the Parry so the left hand side equals to egg to the power of Tau minus U times Q of power plus this Delta  and on the right hand side the EG is equals to EG Pi star raised to the  power of Tau minus U that from this equation we can see that  the two terms in the left-hand side and in the on the right hand side they both  have a common factor Tau minus U so we can actually combine these two terms together  by dividing this leading term in the front in both on both sides we get Each  G to the power of Delta equals to this EEG  Pi star divided by e g u to the power of Q Tau together raised to the power of Pi minus  U because they both have a common factor of Tau minus U then once we reach this step  you can replicate the idea of how to break the Q strong bilinear DV home assumption right so from both sides we  can actually raise them to the power of power minus U inverse and note that here I'm not saying that  anyone knows this secret value at all minus your computer inverse I'm merely  stating the fact that if we do that we have the following equation  and in the following equation on the left hand side we have e g u to the power of Delta divided by Tau minus C  this is almost the same as the problem of the Q strong bilinear DB  helmet assumption we are trying to compute this value on the right hand side equals to  this value inside the parenthesis and know that the adversary can actually  compute the reference side with the global parameters only that is because  this EG Pi star is known by the attacker because it literally generates the the  fake proof and this eegg to the power of Q of power is also known by the adversary because Q  of tau is the correct proof and you can't prevent the reverse of the compute  from Computing the correct proof so the version of both of these  values and compute the right hand side which means that the adversary can use  this contradiction use this fake proof to break the Q Strong by  linear DV hormone assumption but then we assume that this assumption is  computationally hard which means that it is the contradiction the first step  of this we start not equal to F of U should not happen so that completes the entire security  proof of the kcg Panama commitment scheme and if you can't follow the entire  derivation note that the key idea of this security proof is to decompose this fake value V  Star into the correct value F of U and a different step and then we can actually extract the  common factor of Tau minus u in the exponent so that is the most clever step  of this security proof in my opinion  so after that we have actually a remaining part that is not solved yet so  because in the security proof I actually made an assumption and so when we see  this commitment F in the next step I actually write it as G to the power of f of Tau  for sum I have known by the plural known by the adversary and this is actually a very big  assumption if the program just generates a random value and call it the commitment F how can you make sure that  the proverb actually knows this polynomial F locally and this is actually a hard to check and  this requires an additional assumption called knowledge of exponent assumption  so this key idea of this assumption saying that for This Global parameters  foreign commitment we are going to sample another secret value Alpha and compute G to the alpha G  to the alpha tau which is the alpha tau square and so forth and so forth all the way to G to the alpha tau to the power  of B basically we are raising each of the  element in This Global parameters to another power of Alpha and we are going  to include both as the new Global parameters so now for every commitment G to the  power of f Tau using the second set of global parameters we can also ask the poor  compute G to the alpha times F of Tau and this is actually easy to do because  we're just raising the corresponding element in the second set of the global  parameters to the same coefficients of the polynomial f  so there is actually a one-to-one relationship between these two sets of global parameters  so after that in the verification we are going to check additional pairing equation  so this equation is essentially checking this the relationship between  these two components of the commitment we are going to do the pairing of the commitment the first commitment  there's G to the alpha and then we are going to check it against  the pairing between this commitment Prime with the generator G  and again if this com Prime is computed honestly  then you can always pass this verification because it is the product equation in the exponent and the two  elements I should equal to the right hand side and the Assumption says that as long as  you can pass this verification there must exist an efficient extractor e that  can extract a polynomial F such that the commitment equals g to the power of f of  Tau to this assumption directly solves the problem we were facing in the security  proof right given the commitment f we don't know how to express it as G to  the power five tall then by this assumption if you perform an additional common Prime and an additional check  using pairing then their existing structure to extract G to the F of Tau  so that is the knowledge assumption with the knowledge assumption you can  actually solve this problem and get a real polynomial communal scheme that  satisfies knowledge science so basically is in the key generation algorithm we are going to generate two  sets of public parameters G to the power of Tau Tau square and Tau to D and G to  the r for G to the alpha tau which is the alpha tau square and so forth and for each commitment it consists of two  parts G to the F of Tau and G to the R Bar F of time and to verify the correctness of  evaluation in addition to this parenting equation to check the polynomial  equation we also check that the pairing of com and due to the alpha equals to  the pairing of com Prime and the generator of G and by the knowledge some  assumption in the very first step of the security proof we can extract as such  that the commitment equals to G to the power of f Tau by the knowledge assumption and  that solves the problem of the security proof and gives you the final complete proof of the knowledge  assignments but then a a problem of this knowledge  soundness assumption is that it actually introduced an overhead in  the communion size and the verifier time so now the commitment becomes two elements in the base group and the  verifier becomes a two power equations to check so it basically double is the cost of this sleep  so in order to further improve this uh apart we can also prove the security in  a model called the generic group model ggm so in ggm informally speaking the  adversary is only given an oracle to compute the group operations what it means that  given a set of global parameters the adversary can only compute their  linear combinations in order to get another group element in the base group there is  no other way for the adversary to for example sample random point and it happens to be another group element in  the base group because of this model we can actually use the ggm to replace the knowledge of  exponent assumption and reduce the commitment size to one element and also  the verifier time to one parent equation to check and this ggm is again a stronger model  to work with but it's also believed to be reasonable because it captures all  known attacks against the discrete log assumptions or the DV home assumptions  and the family so that is why uh it has reasonable to use this to  prove Security in our case and here is really an informal description of this ggm model and please  see the book by then and uh and Victor for more details about the ggm model  so with all of that finally we end up with this kcg Panama scheme that is  correct and the knowledge sound and in the ggm model and so to remind  you again we have this Global parameters and the plural commits to the phenomena as G to the power of f taught and in  order to prove an evaluation we compute this quotient polynomial f x minus F of  U divided by x minus U and the proof is g to the power of Qatar and the number of our checks is using a  parallel equation so finally let's look at the properties  of this KGG binomial commitment scheme so in the key generation algorithm as we  discussed it requires a traffic setup someone has to pick this secret guitar generate the global parameters and  remove this secret guitar completely otherwise the security will be broken  and the commit takes all of the group exponentiations or Computing to compute G to the power  of f tar given the global parameters and the size of the commitment is constant  is only one group element in the base group and the evaluation algorithm the  complexity of that is again order of the group exponentiations to compute G to the power of Q of power and note that  this polynomial Q of X can be computed efficiently in linear time using just a  simple long division you don't have to use a complicated polynomial divisions to do that  and the proof size is only one group element out of one and the verifier time is only  one parent equation to to check so that is why the kcg parameter  movement is actually a very efficient in practice with very small proof size and fast verifier time  but the only drawback is that requires a trusted setup in the key generation algorithm  so another thing I want to mention is that in order to somehow relax this uh  try to set up assumption practice there is a process called sermon the goal of the summary is to have a  distributed generation of the global parameters so that no one can actually reconstruct this trapped or tall if at  least one of the participants is honest and discards their secret  so let's see how can we do that well the actually the the idea is very simple because of this  nice structure of the global practice recall that Global printers is GE raised to the different powers of tall  and we just call a running Global parameters are generated by one party as  G1 G2 all the way to G2 GT so then if we receive this Global parameters  from another party there is a way to introduce additional part of the randomness called  s and I'll bet this GP Prime into a new set of global parameters  an update is very simple we are going to raise each element of this existing  Global parameters g1g2 and GD to the corresponding powers of x we'll compute  G1 to the s g to the that square all the way to GD to the s to the B  and if you just write down this uh equation formally you can see that if GP  is honestly computed then this set of global parameters becomes  G to the power s g to the power s together square and then all the way to G to the power s together to the power  of d which means that this new set of global parameters is actually  equivalent to generating it using the secret Tower times as from building  so this gives you a sense that if everyone's honest then they can still form the correct  generation of the global parameters using the product of all the secrets from all the parties  so finally there are some additional steps to check that this GP Prime is indeed correctly generated  in case there's someone's malicious you don't want them to ruin this entire Global parameters  and there are two steps to check the correctness so first of all the contributor has to generate a proof  proving that he or she knows that such that G1 Prime equals to G1 to the power of s  indeed you are introducing some valid secret s from G1 to G1 Prime instead of  discarding this uh existing Global parameters and generate GP Prime from scratch and this one can be done  efficiently using for example Sigma product and another check we need to do is that  Opera's accommodation GP Prime should have the form of consecutive  powers of this generator raised to this new secret and this can actually be  checked efficiently using Perry there's a simple check you can actually do the pairing between GI Prime and G1 Prime  and that should equal to GI plus 1 Prime and G for I equals to a zero all the way  to D minus 1. and this shows that after the update they still have a valid  Global parameters with this relationship and also another thing you need to pay attention to is that we can't just  remove the secret and change it to zero so in order to prove and prevent that we  have to check that G1 Prime is not equal to zero and this nice way of doing the  ceremony was actually introduced in this paper in 2022.  so that completes the discussion of the kdg polynomial commitment scheme  as we've seen so far the kcg Panama commitment has this simple and nice algebraic structure and that's why it  has led to many variants in the literature and I'm going to discuss some of these variants next  the first extension is to the multivariable case and the scheme was proposed by papuento She and tamasia in  the paper in 2013. and here I'm showing you an example of a multivariable polynomial with K  variables and this basically can be expressed as the summation of all these monomials generated by these variables  times the corresponding coefficients and the key idea to build a  multivariable phenomic domain scheme is based on this polynomial equation so for every multivariate binomial F X1  to XK minus fu1 to UK the evaluation at this point can always be expressed as  the summation of x minus I minus UI times q i x  from I equals to 1 all the way to K and here Qi X is again a multivariable  naughty it's actually not straightforward to prove this equation but I refer you to the  original paper for a formal proof of this equation  and based on this polynomial equation then in the key generation instead of  sampling one a secret detail we are going to sample K secret Keys Tau 1 and all the  way to Target and basically each tau is representing the one variable in this multivariable polynomial  then we are going to compute the global parameters as GE raised to all possible monomials generated by power 1 all the  way to talking and for example as Justin discussed in lecture 4 for multilinear phenomenals  that are in total to the power of K monomials are generated by all the variables  then with this public parameter the commitment is very straightforward we  are still Computing G to the power of f Tau where Tau now is a vector Tau 1 to top K and again this can be computed  using the global parameters only the proverb is Raising each element of the global parameters to the corresponding  coefficient of the polynomial and multiply them together to get the commitment  next in order to compute the proof the poorer is going to evaluate this  polynomial at this point U1 to UK and invoke this equation to compute qix for  RI then the proof consists of multiple elements  Pi I equals to G to the power of q i evaluated at the point power here  for I equals to 1 all the way to K and finally to verify the correctness of  this evaluation we are again checking this equation in exponent using binary  on the left hand side is exactly the same as the universe case we are Computing the pairing between the  commitment divided by G to be V with the generator itself  on the right hand side we have multiple pairings so the verifier is Computing the pairing between G to the power of  Tau I minus UI and Pi I and then multiply all of them together from I  equals to 1 all the way to p and if you do the derivation this is essentially checking this equation  at Point Tau I in the exponent and  for the similar reason this scheme is correct and can be proved uh summed  under the same assumptions and in terms of efficiency the  commitment and the evaluation has the same complexity as before assuming that  the N is the total size of this polynomial then both of them are out of a group exponentiations the scheme does  introduce an overhead on the proof size and the verify time so now the proof size becomes order of K which is order  of a login for example for multi-linear polynomial and the same applies to the  verifier time so this is the scheme for multivert binomial commitment  the second extension I want to introduce is a way to achieve your knowledge and I  refer you to see lecture one for the formal definition of zero knowledge in the case of a pandemic Amendment  essentially geologically saying that there exists a simulator without knowing the polynomial the  simulator can actually simulate The View of the verifier and generate this proof  and that is the indistinguishable from a real execution with the polynomial  and turns out this plane kcg is not your knowledge and the simple way to see it is that  this commitment equals to G to the power of f tau is actually deterministic  although you cannot reconstruct a photo directly from the commitment you can actually do some testing for this  polynomial for example we can assume that is the polynomial a zero polynomial or  if that is true then G to the F of Tau must be equal to G to the power of zero which equals to what and you can  actually check whether the commitment is one or not and that tells you whether the phenomena is all zero or not and in  general you can make any hypothesis about whether a polynomial is of certain form and then compute the corresponding  commitment and check that if it's the same as a real commitment so in this way you can actually learn some information  about this uh a a secret pandemic so that is why this  scheme is not your knowledge and the key reason is that this commitment is deterministic and can be computed by by  anyone so the key idea to make it zero  knowledge is to mask post commitment and approve with some randomizers and here  I'm showing you a scheme from my paper with my co-authors in 2018.  so the key idea of this scheme is that instead of commuting to G to the  power of f dot Tau you are going to add a randomizer term that is R times ETA where R is a random number chosen by the  proofer and ETA is actually another secret key sampled by the  preprocessor in The Trusted setup and of course we also need to include G to the ETA in the public parameters but I omit  this step in this informal description and then to generate a proof instead of  doing the regular decomposition f x minus F of U we're going to do a  randomized decomposition you see here that on the left hand side we have an additional term R times Y  which is actually from this randomizer of the commitment and here we are replacing  ETA with a variable y and on the right hand side instead of doing x minus U times Q of X we are going to do x minus  U times Q of X plus r Prime Times Y where R Prime is another randomizer  sampled by the prover to mask this proof and then if you expand this  multiplication you will see that this is the remaining term and all of them have this common factor of Y so we can write  it as y times R minus r Prime Times x minus U with this decomposition we can actually  generate the proof Pi consisting of two elements the first element is g to the  power of Q Tau plus r Prime ETA which is essentially evaluate in this polynomial inside the first parenthesis at Point  Tau substituting X and the ETA substituting y and the second element is g to the power  of R minus r Prime Times Tau minus U and essentially from the second polynomial  in the parenthesis and then we can check the this relationship of the randomized  composition with the pairing equation to check the product in the  exponent and this is how we achieve zero knowledge for the kdgo polynomial  commitment scheme and another interesting thing to think about is that actually this scheme is  almost equivalent to generalizing the universe kg phynomial  scheme to the bi-virate case we are essentially adding an additional variable y  so that we can actually use this term to randomize what was the commitment and the secure and the proof  and for a correct evaluation of f of U we are essentially evaluating this by  very polynomial at the point U comma 0 where 0 is for the variable y  and in this way we can achieve zero knowledge  so finally the last variant I want to introduce is this batch openly so the first version I want to start uh  from a single polynomial where there is a one polynomial followed by the poor f  and the poorer wants to convince the verifier that the evaluation of F at multiple points U1 all the way to um for  M that is smaller than the degree d because if it's lower than the then you can reconstruct the binomial  uh in the first place so the key idea to generate a short proof  for this multiple evaluations is that we can actually extrapolate the  evaluations fu1 fu2 all the way to fum to get a polynomial h of x  the property of this h of X is that hu1 should equal to fu1 hu2 should equal to  fu2 and so on and so forth and hum should equal to f u n and there exists a  unique polynomial of HX of degree M with such a property with a leading  coefficient one so with such a polynomial h of X then we have a new  equation here f x minus h of x equals to the  product of x minus UI for I equals to 1 to n times the quotient polynomial QX  why is that again we can check the roots of this polynomial on the left hand side  if you take evaluate this polynomial U1 then because of the property of H of x  F U1 equals to hg1 so the left hand side is 0 at Point U1  for a similar reason it is also zero at U2 u3 all the way to  u n so because of that you want you to and you you three and the other way to  um are all roots of this polynomial f x minus h of X and because of that it can  always be decomposed as this product times the quotient polynomial Q of x  so then we are going to compute the proof pi as G to the power of Q Tau as in the regular case with one opening and  note that this is only a single element in the base group for multiple evaluations  finally we can check this polynomial equation at Point Tau using the pairing again  so on the left hand side you're going to compute the pairing between the commitment divided by G to the H of Tau  and the generator itself and the verifier is able to compute this G to the H of Tau using the global parameters  on the right hand side we're going to compute the pairing between G to the power of the product of  Tau minus UI again the verifier can compute it using the polynomial  interpolation and Global parameters and then we are going to pair do the pairing between this one and the pi itself  and if the poor is honest then this equation should hold because of this  polynomial relationship and we can prove the soundness in a similar way and reduce it to the Q  strong bilinear DV home assumption so in this way for module evaluations and evaluations  the proof is still a single element but know that the birth of our time is  actually order of X grows linearly in a number of evaluations  foreign version which was actually left as a  homework in the previous lecture by then there exists a batch opening protocol  for multiple evaluations of multiple polynomials and multiple evaluations so now in the most General case the poor  work commits to multiple polynomials f i x for I equals to n for I belongs to n  the set uh then and then the program wants to prove that f i u i j equals to vij for J  belongs to the set of n and the key idea is uh  kind of similar to a single polynomial case for every polynomial fi we are  going to extrapolate fye1 FYI U2 and missing a index here fi um to get hix  for I in net then for the similar reason we have a  polynomial equation for every polynomial f i x my n minus h i x equals to  the product of x minus uim  times q i x so we are going to have a qix for each  polynomial fi and then we can combine all of these qix via random linear  combination and compute G to the power of that polynomial which is only a single element in the proof and then the  Verve architect reproduce all of these equations in the exponent using the public parameters and then check this  equation using bilinear query so in this way we can actually batch the molecular  evaluations of multiple polynomials into a single group  so that's all the variants I want to discuss about the kg Panama Kaminsky so  going all the way back to the general purpose snarks with these variants of kg  pandemic elements we can actually construct a stocks based on these polynomial iops for example using the  plug system we can combine this Planck polynomial IOP with the universe kcg  polynomial commit scheme to get a stark for generous circuits and this is exactly construction proposed by the  Planck paper and in terms of interactive proofs there  are actually several papers uh proposing these constructions so we can actually combine a some check protocol or a  variant called the gkr protocol for layered arithmetic circuits with the multivariate version of the kdg Panama  commitment and that leads to an efficient Stark for the computation of  circuits and this idea was used in the systems called visico and later in Libra  in these two papers so that completes the discussion of the  Panama commitment scheme based on bilinear pairing and in the next segment I'm going to talk about other polynomial  schemes based on this real algorithm  welcome back to the last segment of this lecture in this argument I'm going to talk about Dynamic mem scheme without  trusted setup based on discrete logarithm recall that the kcg pandemic movement  scheme is very impressive performance in practice both commitment and the proof size are  only order of one it's a one group element each and verify time is only uh  one pairing equation but the main drawback of this polynomial scheme is that requires a trust setup to  generate Global parameters and of course the ceremony process relaxes trust a little bit and it's  actually good for many applications in practice but still this trust setup is a  fundamental problem to solve so in recent years there has been a main  focus to construct efficient transparent serological schemes without  trusted setup and in this lecture I'm going to talk about uh the scheme based on a  bulletproof which was proposed by budo in 2016 and later refined by wunzel in  2018. and in the original bullet paper they proposed a inner product argument  and has a special protocol for range proofs and also can be generalized to  proofs for a general arithmetic circuit but here I'm just going to rephrase this  bulletproof protocol as a polynomial commitment because it can still show the key idea  of this bulletproof reduction but it was significantly simplify the protocol  so in this scheme the key generation is actually very  simple we're just going to sample the global parameters as a d plus one random  elements in this group without there's no trapdoor or secret  key in this setup process so that is why we call it a transparent setup and note  that the size of this Global parameter in the construction bulletproofs is still linear in the degree of the polynomial  with this Global parameters the commitment of the scheme is also very  simple so again give a polynomial f x equals to F0 plus F1 X Plus F2 x square  and so on all the way to FD times x to the D the commitment  is simply g0 to F0 times G1 to F1 times G2 to F2 and all the way to GD to FD so  basically we are still raising each element of the global parameters to the corresponding coefficient of this Phenom  and then multiply them together to get a constant size commitment and for those who are familiar with the  pillars and commitment you can see this is actually the uh standard commitment  scheme for the vector version of the Peterson commitment and here I'm omitting the random term of the Peterson  commitment but it is actually not hard to just add a term H to the r at the end  and all the protocols should follow  so with this commitment I'm going to first describe the high level idea of  this bulletproof reduction so  when the verifier picks an inversion Point U the plural replies with this v  as the evaluation of this polynomial at Point U and here I'm using example of a degree three polynomial which equals to  F0 plus F1 X plus a 2x squared plus F3 x 2 to 3. and clearly the evaluation  is is equal to this equation if the prover is honest and the key idea of this bulletproof  reduction is to actually reduce this claim of evaluation V at Point U for the  polynomial inside this commitment to a new claim  about the new polynomial of only half of the sides so through a reduction we want to reduce  this original polynomial of degree 3 to a new polynomial of degree only one with  two coefficients of zero prime plus F1 Prime X and then we can somehow compute the  commitment of this new polynomial as com Prime there's some new bases g0 Prime to F  zero Prime Times G1 Prime to F1 Prime and also a new claim about the evaluation V Prime  for the new polynomial at Point e and  if you can do this then the verifier will receive a new instance of this polynomial commitment for a polynomial  of degree only half then we can just keep doing this recursively to reduce the new instance  to another polynomial of degree only D over 4 and D over 8 and all the way to a  constant degree polynomial and finally if we don't care about the  zero knowledge for time being then uh in the last round the program can just send this constant size phenomenal to the  verifier directly and the verifier opens the polynomial and checks that the evaluation of the last round is indeed  true and that completes the entire reduction and guarantees that the original  evaluation of this V for this polynomial of degree 3 is actually correct so that  is the height of idea of this Bulletproof but the main challenge of this reduction  is how can we go from this original polynomial to a new polynomial of half  of the size we have to check the relationship between these two polynomials you can't  let the proverages to commit randomly to a new commitment without any relationship before and then commit to a  new evaluation V Prime then the Brewer can just cheat  and the lie about the original evaluation because there is no relationship between V and V Prime and  com and comp Prime so the major Challenge and the problem we are  going to see next is how can we establish such a connection between the old instance and the new instance  so um here I'm listing the global parameters as GGO G1 G2 and G3  and a common way to reduce the phenomena to half of the size is to actually  decompose it to two parts and the way I'm doing here is we're going to have a left part of the  polynomial and the right part of the polynomial and here you can see that I'm defining VL as F0 plus F1 U which is  from the first half of the coefficients of the original polynomial effects and similarly we have VR equals to F2 plus  f3u which is from the second half of the polynomial note that I'm restricting the  degree of both polynomials as only one half of the orange jump and now  so with these two values it's not hard to see that the original evaluation V Should equal to VL plus VR times U  Square so that gives you a way to check the correctness of this VL and VR  after that another quite common approach to reduce the original polynomial to a new  polynomial of only half of the size is through random linear combination so now we have two parts of the binomial  first half and second half then the number of our Peaks a random number R and send it to the proofer and the  proofer is going to combine these two polynomials by multiplying R times the  first half plus the second half and the result of that is this new polynomial of only two elements  in this new polynomial F 0 Prime simply equals to R times F zero plus F2 and F1  Prime equals to R times F1 plus F3 so in this way we reduce the original  polynomial of degree three to a new polynomial of degree one that is only of half of the size  then with this new reduction uh it's not hard to see that the evaluation of this  new polynomial at Point U should equal to R times VL plus v r  and this is the new claim V Prime the verifier is trying to check  so in this way I show you a simple approach to reduce this polynomial to  a new phenomena of only half of the size and at the same time  the verifier has already checked the claim about the relationship between the  new evaluation V Prime and all the evaluation B through these two parts of VL and VR  so the only remaining challenge is to generate the commitment of this new  panel that turns out this step is quite challenging because given this new  polynomial you can't let the providers to compute  the same periods commitment using the same basics for example if you ask approval to commit g0 to this first term  and G1 to the second term there is a no way for the verifier to check that this new commitment is indeed computed from  the vectors in this old commitment comf that is because now we have a  transparent setup we don't know the relationship between these different bases  and we can't compute computations in exponent across these different bases  so in order to address this issue here's the clever design of this fully proof  protocol so in addition to this VL and VR in the  same round we are going to ask the Brewer to send two more commitments  and the first one is G2 to F0 times G3 to F1 and the second one in g0 to F2  times G1 to F3 so intuitive speaking this is the commitment to the first half  of the polynomial and this is commitment to the second half of the panel that's why I name it IO and r  but interestingly the bases are different we are using G2 and G3 to commit to the  first half and g0 and G1 to commit to the second half so it's kind of a cross  term for this to compute these commitments we are using the second half of the devices  to commit to the first half of the polynomial and then we use the first half of the basis to commit to the  second half of the thumbnail so that is L and R again both of them are only one  element in the group so with L and R turns out the verifier  is able to reduce this old commitment Comm F to a new commitment for this new  polynomial and how can she do that through this magical  equation the verifier is going to compute com Prime as L to the power of  this random number times the original commitment times R to the power of small  R inverse and with that we claim that this commitment is actually for this new  polynomial under a new Global parameters  why is that now I'm going to explain this magical computation in this slide  so here I'm listing uh the information received from the proverb if the proverb  is almost so the original commitment is this uh g0 to F0 G1 to F1 and so  forth and the left part is the cross term for the first half and R is the  cross term commitment for the second half and the verifier is Computing is comp  Prime as L to the r times the old commitment times R to the small R  inverse so what is this computation but then let's just expand that term by  term so first let's see what's happening for the space g0  so in this equation the second term com has this uh a term  g0 to F0 so we're going to write it here and R contains the term g0 to F2  and then we raise it to the power of a small R inverse so that gives us R inverse times F2 and there's no term  inside this commitment L with basic base G zero so the result of this computation gives  you g0 to F 0 plus r inverse times F2 on top of the base of g0  similarly let's take a look at G2 from the uh the commitment L there's a  G2 to the power of F0 and when we raise it to the power of small r that gives G2 to R times F0  and from the old commitment we have G2 to F2 and we don't have anything  with the base G2 in the commitment r So In Sum that gives us G2 to the power  of R times F0 plus F2 and then we can do the derivation again  for the basis G1 and G3 and again G1 you have this G1 F1 from the commitment and  a G1 f 3 from the r part and brings it to small  R inverse so we have G1 F1 plus r inverse times F3 and finally for G3 you have this G3 F3  from the commitment and G3 to the F1 times R from the L part of the  commitment so all I'm saying is that uh it looks  complicated to expand everything and figure it out but there's no magical math involved you just do it step by  step for every basis and you end up with this equation as the new commitment comprise  so done with that the interesting observation is we can actually extract a  common factor from the exponent of g0 and G2 and this common factor happens to be R  times F0 plus F2 clearly you have this factor from in the exponent of G2 and so you end up with G2  in the parenthesis from the exponent of g0 if you  extract this R inverse out then the remaining term equals to R times F0 plus  F2 that is why it also has a common factor R times F0 plus F2 and the remaining  term in the parenthesis is G 0 raised to the power of R inverse  similarly we can do the same thing for the base of G1 G3 and the second part of  the new commitment equals to G1 to the power of R inverse times G3 together  raised to the power of R times F1 plus F3 and recall that this is exactly the new  polynomial we are trying to reduce to right the new polynomial contains two  coefficients the first coefficient is exactly this r f 0 plus F2 and second coefficient is R times F1 plus F3  so that is saying after this computation the verifier ends up with a new commitment  and this is again the same as the pillars and commitment and exponents is actually the from the new polynomial  and the bases are from these uh two numbers in the premises  so we have to update This Global parameters as g0 to the r inverse times  G2 and G1 to the r inverse time G3 and combine them together so in this way we  have a new Global parameters or new set of bases of only half of the size and this com Prime is exactly the commitment  of this new polynomial using this new basis so that solves the problem of  establishing a connection from the old commitment to a new commitment with the help of these two values L and r  so going back to the original picture that completes the description of one  step of this reduction so in each round the plural can actually send vlvr as the evaluations the first  half and second half and L and R as the cross commit term commitments of the first half and second  half and verifier can update the commitment at this equation and derive  the new basis as this equation and computes the new claim of evaluation V  Prime as R times VL plus VR so in this way they can reduce the original  polynomial and evaluation to a new polynomial and evaluation of only half  of the size and note here that another point on the  Highlight is uh someone may be familiar with for example the standard fft reduction which actually decomposed the  polynomial as the odd terms odd coefficients and even coefficients and I  believe is actually still working you can actually decompose it as odd and  even instead of the left part and right part and the same protocol should still follow for this polynomic commitment  based on bulletproofs so uh with this uh protocol of the  reduction here we can actually generalize it to a polynomial of any degree d  so uh with the commitment of that polynomial the job on the poorer side is to compute  this lrvl and VR energy trunk and then the brewery receives a  Randomness from the verifier and reduces polynomial F to F Prime of degree only D over two and here to be precise I'm  actually assuming that the D with d plus 1 should be a power of two so after  reduction degree should be uh D minus 1 over 2 or something like that but this  is not that important and just a corner case and after that the Brewer should update  the basis from the original Global parameters GP to GP prime using equation  I explained before on the very far side the verify receives  two new claims VL and VR first she has to check that they're consistent  with the original claim the evaluation B and then the verifier generates this are randomly and of this  commitment as this equation updates the global parameters and also updates the  claim of the evaluation V Prime as R times VL plus VR and after that they're going to re at  the recursion for log D times to further reduce degree to D over four D over 8 and all the way to a constant final  and to complete this entire particle in the last round the proverb simply sends this constant size binomial to The Verve  R the verifier checks it against the commitment checks that the evaluation the loss runs correct which completes  the entire reduction of this bulletproof and guarantees that the original evaluation of this polynomial of degree  D is actually correct so that is the complete description of  this polynomial commitment scheme based on bulletproofs and here I won't go into the details the  soundness proof of this bulletproof but roughly speaking you are using this to randomly combinations to actually  combine two claims about the left part and the red part into one claim  of only half of the size I refer you to the original paper for more details about the security proof  so finally let's take a look at the properties of these bullet proofs so in a key generation there's no  chapter or a toxic waste the setup is transparent and the size of the global  parameters is linear in the degree of the polynomial so this is the solves the problem of the KGG pandemic commitment  to commit to a polynomial it also takes all of the group exponentiations and the  commitment is gain of size uh a constant one element in the group  and to generate the proof it takes only order of B group exponentiations because  it is a recursive reduction and every time you cut the size of the phenomena to a half so in total the complexity  remains linear in the degree of the panel and the version I described before is  actually interactive between a proven verifier and you can actually of making nine interactive where the  fear Shamir transformation and in addition the proof size is only order  of log D because in every round the program is only sending a constant number of elements to the verifier  remember this is l r and bl and VR four elements in total in the version and this Square  and finally one of the main drawback of this product  based on bulletproof is this verify time the verify climb is actually linear in  the degree of this Phenom and that is because recall in the description of this protocol the verifier has also to  update This Global parameters by combining two races into one using this random  number R and the complexity of this step is actually linear which is the same as  the complexity as the of the grouper so that is why the verify time is actually  quite slow in practice using this version of the panamic element based on coordinate groups  so um in order to further improve uh the properties of the bulletproofs there are  some has been other polynomial command schemes based on the squared logarithm in the literature and  I don't have time to go into details of this uh uh protocols but here I'm just going to highlight the key improvements  and the key ideas in these schemes so the first game I want to mention is this hierarchs proposed by Bobby Adar in  2018. so in this paper they propose another Panama coming scheme that  improves the verify time from linear to only square root d and the key idea is to represent the  coefficients of this polynomial as a 2d Matrix then you can actually commit to this  Matrix row wise and then do a reduction column wise to get the final answer of the polynomial evaluation  and with this approach the proof size and the verifier time are  only linear in one dimension of The Matrix so in this way we can achieve the proof  size of a square root D and the verifier time of square B and also in the paper there is actually  a flexor way to choose these parameters for example the proof size can be further reduced to the nth root of D  with the cost of verb are increasing to D to the power of 1 minus one number one  so essentially the product of these two has to be linear in D so that is the  Panama commitment in the hyrax paper  another very important paper for Panama commitment is called Dory proposed by  league in 2021 and this is a very nice improvement over the phenomically scheme  based on bulletproofs and the key contribution is to further improve the verifier time to only order of blockly  without any asymptotic overhead on other parts and the key idea of the story paper is  to delegate the verifiers computation to the approver site recall that the verifier has to update  this basis to generate new set of global parameters by combining two elements in the old Global  parameters and this is a very well structured computation you always take two elements from the global parameters  that are publicly known and well structured and combine them with using  the random numbers chosen by the verifier and using the approach called inner  pairing product arguments proposed by this paper Dory is able to delegate this  computation of the verifier to the prover side and the time to verify the step of computation is reduced to only  order of log d so with this approach the verify our time is sub-venier in the in the Panama  commitment another Improvement to highlight is the protocol also improves the poorer time  to only other square root d exponentiations but uh the time to evaluate this  polynomial remains out of D so still asymptotically the poor times the linear  number of field operations and this Improvement also uh concrete  speaking this improves the poor time significantly in practice but for the purpose of constructing efficient zero  knowledge group schemes it really depends on your protocol for some protocols for example the Planck  protocol we covered in the previous lecture the poorer has to commit to a polynomial  defined by the winners and then later opened it at some random  Point chosen by the verifier and because of that the poorer time of the zero knowledge group scheme includes both the  commitment and the poor time of the Panama commitment so in that sense the  addition of these two steps still remain linear number of exponentiations using  the door reconstruction finally the last paper I want to mention  is this dark paper by buns fish and the spear neck in 2020. so this paper also  achieves a strictly order of a log the proof size and verify time and in fact  the scheme I described for panamic Amendment based on bullet proofs in the previous slides is actually inspired by  the construction in this paper so this is also very important paper in the literature and the key idea is also  delegating some of the uh verifiers computation with linear time  to the Poor Side using some prior protocols and the Primitive of the  cryptographic Primitive this paper works on is there's a group of unknown order  foreign so finally to summarize this entire  lecture so in this lecture we've talked about Dynamic immune schemes based on bilinear pairing and this great  logarithm and in the first part we studied this classical design of the kg polynomial  commit scheme and this scheme has a trust setup that has a very impressive  performance in practice both the proof size and commitments are only one group elements and the verifier is constantly  a single parent equation uh any other to remove this strategy  side setup and achieve the transparent setup we have a sequence of a workspace down variants of the Square log problems  in different groups so uh the bulletproofs reduces the  removes the trust setup and achieves the logarithm proof size and it is purely based on the discrete log assumption but  unfortunately the verifier times linear in the degree of the panel a linear this is improved by the Harris  Construction where the cost of an increase on the proof size to square root  and finally we have a two papers that achieve both logarithm full size and  logarithm uh verifier time without any trust is set up the doorway paper is  based on the the bilinear pairing operation for the linear pairing product argument and the dark scheme is based on  the group of unknown order so that is everything I want to talk  about in this lecture thank you for listening